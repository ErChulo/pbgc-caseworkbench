<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>web</title>
    <script type="module">
(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const $ of document.querySelectorAll('link[rel="modulepreload"]'))d($);new MutationObserver($=>{for(const s of $)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&d(f)}).observe(document,{childList:!0,subtree:!0});function g($){const s={};return $.integrity&&(s.integrity=$.integrity),$.referrerPolicy&&(s.referrerPolicy=$.referrerPolicy),$.crossOrigin==="use-credentials"?s.credentials="include":$.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d($){if($.ep)return;$.ep=!0;const s=g($);fetch($.href,s)}})();function ln(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ie={exports:{}},Pt={},pe={},$e={},Nt={},Rt={},Ot={},Lt;function yt(){return Lt||(Lt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class r{}e._CodeOrName=r,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class g extends r{constructor(t){if(super(),!e.IDENTIFIER.test(t))throw new Error("CodeGen: name must be a valid identifier");this.str=t}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=g;class d extends r{constructor(t){super(),this._items=typeof t=="string"?[t]:t}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const t=this._items[0];return t===""||t==='""'}get str(){var t;return(t=this._str)!==null&&t!==void 0?t:this._str=this._items.reduce((o,h)=>`${o}${h}`,"")}get names(){var t;return(t=this._names)!==null&&t!==void 0?t:this._names=this._items.reduce((o,h)=>(h instanceof g&&(o[h.str]=(o[h.str]||0)+1),o),{})}}e._Code=d,e.nil=new d("");function $(i,...t){const o=[i[0]];let h=0;for(;h<t.length;)c(o,t[h]),o.push(i[++h]);return new d(o)}e._=$;const s=new d("+");function f(i,...t){const o=[y(i[0])];let h=0;for(;h<t.length;)o.push(s),c(o,t[h]),o.push(s,y(i[++h]));return p(o),new d(o)}e.str=f;function c(i,t){t instanceof d?i.push(...t._items):t instanceof g?i.push(t):i.push(P(t))}e.addCodeArg=c;function p(i){let t=1;for(;t<i.length-1;){if(i[t]===s){const o=E(i[t-1],i[t+1]);if(o!==void 0){i.splice(t-1,3,o);continue}i[t++]="+"}t++}}function E(i,t){if(t==='""')return i;if(i==='""')return t;if(typeof i=="string")return t instanceof g||i[i.length-1]!=='"'?void 0:typeof t!="string"?`${i.slice(0,-1)}${t}"`:t[0]==='"'?i.slice(0,-1)+t.slice(1):void 0;if(typeof t=="string"&&t[0]==='"'&&!(i instanceof g))return`"${i}${t.slice(1)}`}function _(i,t){return t.emptyStr()?i:i.emptyStr()?t:f`${i}${t}`}e.strConcat=_;function P(i){return typeof i=="number"||typeof i=="boolean"||i===null?i:y(Array.isArray(i)?i.join(","):i)}function v(i){return new d(y(i))}e.stringify=v;function y(i){return JSON.stringify(i).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=y;function m(i){return typeof i=="string"&&e.IDENTIFIER.test(i)?new d(`.${i}`):$`[${i}]`}e.getProperty=m;function w(i){if(typeof i=="string"&&e.IDENTIFIER.test(i))return new d(`${i}`);throw new Error(`CodeGen: invalid export name: ${i}, use explicit $id name mapping`)}e.getEsmExportName=w;function a(i){return new d(i.toString())}e.regexpCode=a})(Ot)),Ot}var jt={},Ft;function Kt(){return Ft||(Ft=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const r=yt();class g extends Error{constructor(E){super(`CodeGen: "code" for ${E} not defined`),this.value=E.value}}var d;(function(p){p[p.Started=0]="Started",p[p.Completed=1]="Completed"})(d||(e.UsedValueState=d={})),e.varKinds={const:new r.Name("const"),let:new r.Name("let"),var:new r.Name("var")};class ${constructor({prefixes:E,parent:_}={}){this._names={},this._prefixes=E,this._parent=_}toName(E){return E instanceof r.Name?E:this.name(E)}name(E){return new r.Name(this._newName(E))}_newName(E){const _=this._names[E]||this._nameGroup(E);return`${E}${_.index++}`}_nameGroup(E){var _,P;if(!((P=(_=this._parent)===null||_===void 0?void 0:_._prefixes)===null||P===void 0)&&P.has(E)||this._prefixes&&!this._prefixes.has(E))throw new Error(`CodeGen: prefix "${E}" is not allowed in this scope`);return this._names[E]={prefix:E,index:0}}}e.Scope=$;class s extends r.Name{constructor(E,_){super(_),this.prefix=E}setValue(E,{property:_,itemIndex:P}){this.value=E,this.scopePath=(0,r._)`.${new r.Name(_)}[${P}]`}}e.ValueScopeName=s;const f=(0,r._)`\n`;class c extends ${constructor(E){super(E),this._values={},this._scope=E.scope,this.opts={...E,_n:E.lines?f:r.nil}}get(){return this._scope}name(E){return new s(E,this._newName(E))}value(E,_){var P;if(_.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(E),{prefix:y}=v,m=(P=_.key)!==null&&P!==void 0?P:_.ref;let w=this._values[y];if(w){const t=w.get(m);if(t)return t}else w=this._values[y]=new Map;w.set(m,v);const a=this._scope[y]||(this._scope[y]=[]),i=a.length;return a[i]=_.ref,v.setValue(_,{property:y,itemIndex:i}),v}getValue(E,_){const P=this._values[E];if(P)return P.get(_)}scopeRefs(E,_=this._values){return this._reduceValues(_,P=>{if(P.scopePath===void 0)throw new Error(`CodeGen: name "${P}" has no value`);return(0,r._)`${E}${P.scopePath}`})}scopeCode(E=this._values,_,P){return this._reduceValues(E,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},_,P)}_reduceValues(E,_,P={},v){let y=r.nil;for(const m in E){const w=E[m];if(!w)continue;const a=P[m]=P[m]||new Map;w.forEach(i=>{if(a.has(i))return;a.set(i,d.Started);let t=_(i);if(t){const o=this.opts.es5?e.varKinds.var:e.varKinds.const;y=(0,r._)`${y}${o} ${i} = ${t};${this.opts._n}`}else if(t=v?.(i))y=(0,r._)`${y}${t}${this.opts._n}`;else throw new g(i);a.set(i,d.Completed)})}return y}}e.ValueScope=c})(jt)),jt}var Ht;function J(){return Ht||(Ht=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const r=yt(),g=Kt();var d=yt();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return d.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return d.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return d.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return d.Name}});var $=Kt();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return $.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return $.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return $.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return $.varKinds}}),e.operators={GT:new r._Code(">"),GTE:new r._Code(">="),LT:new r._Code("<"),LTE:new r._Code("<="),EQ:new r._Code("==="),NEQ:new r._Code("!=="),NOT:new r._Code("!"),OR:new r._Code("||"),AND:new r._Code("&&"),ADD:new r._Code("+")};class s{optimizeNodes(){return this}optimizeNames(u,S){return this}}class f extends s{constructor(u,S,q){super(),this.varKind=u,this.name=S,this.rhs=q}render({es5:u,_n:S}){const q=u?g.varKinds.var:this.varKind,U=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${U};`+S}optimizeNames(u,S){if(u[this.name.str])return this.rhs&&(this.rhs=B(this.rhs,u,S)),this}get names(){return this.rhs instanceof r._CodeOrName?this.rhs.names:{}}}class c extends s{constructor(u,S,q){super(),this.lhs=u,this.rhs=S,this.sideEffects=q}render({_n:u}){return`${this.lhs} = ${this.rhs};`+u}optimizeNames(u,S){if(!(this.lhs instanceof r.Name&&!u[this.lhs.str]&&!this.sideEffects))return this.rhs=B(this.rhs,u,S),this}get names(){const u=this.lhs instanceof r.Name?{}:{...this.lhs.names};return F(u,this.rhs)}}class p extends c{constructor(u,S,q,U){super(u,q,U),this.op=S}render({_n:u}){return`${this.lhs} ${this.op}= ${this.rhs};`+u}}class E extends s{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`${this.label}:`+u}}class _ extends s{constructor(u){super(),this.label=u,this.names={}}render({_n:u}){return`break${this.label?` ${this.label}`:""};`+u}}class P extends s{constructor(u){super(),this.error=u}render({_n:u}){return`throw ${this.error};`+u}get names(){return this.error.names}}class v extends s{constructor(u){super(),this.code=u}render({_n:u}){return`${this.code};`+u}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(u,S){return this.code=B(this.code,u,S),this}get names(){return this.code instanceof r._CodeOrName?this.code.names:{}}}class y extends s{constructor(u=[]){super(),this.nodes=u}render(u){return this.nodes.reduce((S,q)=>S+q.render(u),"")}optimizeNodes(){const{nodes:u}=this;let S=u.length;for(;S--;){const q=u[S].optimizeNodes();Array.isArray(q)?u.splice(S,1,...q):q?u[S]=q:u.splice(S,1)}return u.length>0?this:void 0}optimizeNames(u,S){const{nodes:q}=this;let U=q.length;for(;U--;){const L=q[U];L.optimizeNames(u,S)||(x(u,L.names),q.splice(U,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((u,S)=>K(u,S.names),{})}}class m extends y{render(u){return"{"+u._n+super.render(u)+"}"+u._n}}class w extends y{}class a extends m{}a.kind="else";class i extends m{constructor(u,S){super(S),this.condition=u}render(u){let S=`if(${this.condition})`+super.render(u);return this.else&&(S+="else "+this.else.render(u)),S}optimizeNodes(){super.optimizeNodes();const u=this.condition;if(u===!0)return this.nodes;let S=this.else;if(S){const q=S.optimizeNodes();S=this.else=Array.isArray(q)?new a(q):q}if(S)return u===!1?S instanceof i?S:S.nodes:this.nodes.length?this:new i(fe(u),S instanceof i?[S]:S.nodes);if(!(u===!1||!this.nodes.length))return this}optimizeNames(u,S){var q;if(this.else=(q=this.else)===null||q===void 0?void 0:q.optimizeNames(u,S),!!(super.optimizeNames(u,S)||this.else))return this.condition=B(this.condition,u,S),this}get names(){const u=super.names;return F(u,this.condition),this.else&&K(u,this.else.names),u}}i.kind="if";class t extends m{}t.kind="for";class o extends t{constructor(u){super(),this.iteration=u}render(u){return`for(${this.iteration})`+super.render(u)}optimizeNames(u,S){if(super.optimizeNames(u,S))return this.iteration=B(this.iteration,u,S),this}get names(){return K(super.names,this.iteration.names)}}class h extends t{constructor(u,S,q,U){super(),this.varKind=u,this.name=S,this.from=q,this.to=U}render(u){const S=u.es5?g.varKinds.var:this.varKind,{name:q,from:U,to:L}=this;return`for(${S} ${q}=${U}; ${q}<${L}; ${q}++)`+super.render(u)}get names(){const u=F(super.names,this.from);return F(u,this.to)}}class n extends t{constructor(u,S,q,U){super(),this.loop=u,this.varKind=S,this.name=q,this.iterable=U}render(u){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(u)}optimizeNames(u,S){if(super.optimizeNames(u,S))return this.iterable=B(this.iterable,u,S),this}get names(){return K(super.names,this.iterable.names)}}class l extends m{constructor(u,S,q){super(),this.name=u,this.args=S,this.async=q}render(u){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(u)}}l.kind="func";class b extends y{render(u){return"return "+super.render(u)}}b.kind="return";class k extends m{render(u){let S="try"+super.render(u);return this.catch&&(S+=this.catch.render(u)),this.finally&&(S+=this.finally.render(u)),S}optimizeNodes(){var u,S;return super.optimizeNodes(),(u=this.catch)===null||u===void 0||u.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(u,S){var q,U;return super.optimizeNames(u,S),(q=this.catch)===null||q===void 0||q.optimizeNames(u,S),(U=this.finally)===null||U===void 0||U.optimizeNames(u,S),this}get names(){const u=super.names;return this.catch&&K(u,this.catch.names),this.finally&&K(u,this.finally.names),u}}class C extends m{constructor(u){super(),this.error=u}render(u){return`catch(${this.error})`+super.render(u)}}C.kind="catch";class D extends m{render(u){return"finally"+super.render(u)}}D.kind="finally";class V{constructor(u,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=u,this._scope=new g.Scope({parent:u}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(u){return this._scope.name(u)}scopeName(u){return this._extScope.name(u)}scopeValue(u,S){const q=this._extScope.value(u,S);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(u,S){return this._extScope.getValue(u,S)}scopeRefs(u){return this._extScope.scopeRefs(u,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(u,S,q,U){const L=this._scope.toName(S);return q!==void 0&&U&&(this._constants[L.str]=q),this._leafNode(new f(u,L,q)),L}const(u,S,q){return this._def(g.varKinds.const,u,S,q)}let(u,S,q){return this._def(g.varKinds.let,u,S,q)}var(u,S,q){return this._def(g.varKinds.var,u,S,q)}assign(u,S,q){return this._leafNode(new c(u,S,q))}add(u,S){return this._leafNode(new p(u,e.operators.ADD,S))}code(u){return typeof u=="function"?u():u!==r.nil&&this._leafNode(new v(u)),this}object(...u){const S=["{"];for(const[q,U]of u)S.length>1&&S.push(","),S.push(q),(q!==U||this.opts.es5)&&(S.push(":"),(0,r.addCodeArg)(S,U));return S.push("}"),new r._Code(S)}if(u,S,q){if(this._blockNode(new i(u)),S&&q)this.code(S).else().code(q).endIf();else if(S)this.code(S).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(u){return this._elseNode(new i(u))}else(){return this._elseNode(new a)}endIf(){return this._endBlockNode(i,a)}_for(u,S){return this._blockNode(u),S&&this.code(S).endFor(),this}for(u,S){return this._for(new o(u),S)}forRange(u,S,q,U,L=this.opts.es5?g.varKinds.var:g.varKinds.let){const Q=this._scope.toName(u);return this._for(new h(L,Q,S,q),()=>U(Q))}forOf(u,S,q,U=g.varKinds.const){const L=this._scope.toName(u);if(this.opts.es5){const Q=S instanceof r.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,r._)`${Q}.length`,W=>{this.var(L,(0,r._)`${Q}[${W}]`),q(L)})}return this._for(new n("of",U,L,S),()=>q(L))}forIn(u,S,q,U=this.opts.es5?g.varKinds.var:g.varKinds.const){if(this.opts.ownProperties)return this.forOf(u,(0,r._)`Object.keys(${S})`,q);const L=this._scope.toName(u);return this._for(new n("in",U,L,S),()=>q(L))}endFor(){return this._endBlockNode(t)}label(u){return this._leafNode(new E(u))}break(u){return this._leafNode(new _(u))}return(u){const S=new b;if(this._blockNode(S),this.code(u),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(b)}try(u,S,q){if(!S&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const U=new k;if(this._blockNode(U),this.code(u),S){const L=this.name("e");this._currNode=U.catch=new C(L),S(L)}return q&&(this._currNode=U.finally=new D,this.code(q)),this._endBlockNode(C,D)}throw(u){return this._leafNode(new P(u))}block(u,S){return this._blockStarts.push(this._nodes.length),u&&this.code(u).endBlock(S),this}endBlock(u){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-S;if(q<0||u!==void 0&&q!==u)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${u} expected`);return this._nodes.length=S,this}func(u,S=r.nil,q,U){return this._blockNode(new l(u,S,q)),U&&this.code(U).endFunc(),this}endFunc(){return this._endBlockNode(l)}optimize(u=1){for(;u-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(u){return this._currNode.nodes.push(u),this}_blockNode(u){this._currNode.nodes.push(u),this._nodes.push(u)}_endBlockNode(u,S){const q=this._currNode;if(q instanceof u||S&&q instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${u.kind}/${S.kind}`:u.kind}"`)}_elseNode(u){const S=this._currNode;if(!(S instanceof i))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=u,this}get _root(){return this._nodes[0]}get _currNode(){const u=this._nodes;return u[u.length-1]}set _currNode(u){const S=this._nodes;S[S.length-1]=u}}e.CodeGen=V;function K(j,u){for(const S in u)j[S]=(j[S]||0)+(u[S]||0);return j}function F(j,u){return u instanceof r._CodeOrName?K(j,u.names):j}function B(j,u,S){if(j instanceof r.Name)return q(j);if(!U(j))return j;return new r._Code(j._items.reduce((L,Q)=>(Q instanceof r.Name&&(Q=q(Q)),Q instanceof r._Code?L.push(...Q._items):L.push(Q),L),[]));function q(L){const Q=S[L.str];return Q===void 0||u[L.str]!==1?L:(delete u[L.str],Q)}function U(L){return L instanceof r._Code&&L._items.some(Q=>Q instanceof r.Name&&u[Q.str]===1&&S[Q.str]!==void 0)}}function x(j,u){for(const S in u)j[S]=(j[S]||0)-(u[S]||0)}function fe(j){return typeof j=="boolean"||typeof j=="number"||j===null?!j:(0,r._)`!${T(j)}`}e.not=fe;const he=R(e.operators.AND);function Z(...j){return j.reduce(he)}e.and=Z;const ve=R(e.operators.OR);function M(...j){return j.reduce(ve)}e.or=M;function R(j){return(u,S)=>u===r.nil?S:S===r.nil?u:(0,r._)`${T(u)} ${j} ${T(S)}`}function T(j){return j instanceof r.Name?j:(0,r._)`(${j})`}})(Rt)),Rt}var H={},Gt;function Y(){if(Gt)return H;Gt=1,Object.defineProperty(H,"__esModule",{value:!0}),H.checkStrictMode=H.getErrorPath=H.Type=H.useFunc=H.setEvaluated=H.evaluatedPropsToName=H.mergeEvaluated=H.eachItem=H.unescapeJsonPointer=H.escapeJsonPointer=H.escapeFragment=H.unescapeFragment=H.schemaRefOrVal=H.schemaHasRulesButRef=H.schemaHasRules=H.checkUnknownRules=H.alwaysValidSchema=H.toHash=void 0;const e=J(),r=yt();function g(n){const l={};for(const b of n)l[b]=!0;return l}H.toHash=g;function d(n,l){return typeof l=="boolean"?l:Object.keys(l).length===0?!0:($(n,l),!s(l,n.self.RULES.all))}H.alwaysValidSchema=d;function $(n,l=n.schema){const{opts:b,self:k}=n;if(!b.strictSchema||typeof l=="boolean")return;const C=k.RULES.keywords;for(const D in l)C[D]||h(n,`unknown keyword: "${D}"`)}H.checkUnknownRules=$;function s(n,l){if(typeof n=="boolean")return!n;for(const b in n)if(l[b])return!0;return!1}H.schemaHasRules=s;function f(n,l){if(typeof n=="boolean")return!n;for(const b in n)if(b!=="$ref"&&l.all[b])return!0;return!1}H.schemaHasRulesButRef=f;function c({topSchemaRef:n,schemaPath:l},b,k,C){if(!C){if(typeof b=="number"||typeof b=="boolean")return b;if(typeof b=="string")return(0,e._)`${b}`}return(0,e._)`${n}${l}${(0,e.getProperty)(k)}`}H.schemaRefOrVal=c;function p(n){return P(decodeURIComponent(n))}H.unescapeFragment=p;function E(n){return encodeURIComponent(_(n))}H.escapeFragment=E;function _(n){return typeof n=="number"?`${n}`:n.replace(/~/g,"~0").replace(/\//g,"~1")}H.escapeJsonPointer=_;function P(n){return n.replace(/~1/g,"/").replace(/~0/g,"~")}H.unescapeJsonPointer=P;function v(n,l){if(Array.isArray(n))for(const b of n)l(b);else l(n)}H.eachItem=v;function y({mergeNames:n,mergeToName:l,mergeValues:b,resultToName:k}){return(C,D,V,K)=>{const F=V===void 0?D:V instanceof e.Name?(D instanceof e.Name?n(C,D,V):l(C,D,V),V):D instanceof e.Name?(l(C,V,D),D):b(D,V);return K===e.Name&&!(F instanceof e.Name)?k(C,F):F}}H.mergeEvaluated={props:y({mergeNames:(n,l,b)=>n.if((0,e._)`${b} !== true && ${l} !== undefined`,()=>{n.if((0,e._)`${l} === true`,()=>n.assign(b,!0),()=>n.assign(b,(0,e._)`${b} || {}`).code((0,e._)`Object.assign(${b}, ${l})`))}),mergeToName:(n,l,b)=>n.if((0,e._)`${b} !== true`,()=>{l===!0?n.assign(b,!0):(n.assign(b,(0,e._)`${b} || {}`),w(n,b,l))}),mergeValues:(n,l)=>n===!0?!0:{...n,...l},resultToName:m}),items:y({mergeNames:(n,l,b)=>n.if((0,e._)`${b} !== true && ${l} !== undefined`,()=>n.assign(b,(0,e._)`${l} === true ? true : ${b} > ${l} ? ${b} : ${l}`)),mergeToName:(n,l,b)=>n.if((0,e._)`${b} !== true`,()=>n.assign(b,l===!0?!0:(0,e._)`${b} > ${l} ? ${b} : ${l}`)),mergeValues:(n,l)=>n===!0?!0:Math.max(n,l),resultToName:(n,l)=>n.var("items",l)})};function m(n,l){if(l===!0)return n.var("props",!0);const b=n.var("props",(0,e._)`{}`);return l!==void 0&&w(n,b,l),b}H.evaluatedPropsToName=m;function w(n,l,b){Object.keys(b).forEach(k=>n.assign((0,e._)`${l}${(0,e.getProperty)(k)}`,!0))}H.setEvaluated=w;const a={};function i(n,l){return n.scopeValue("func",{ref:l,code:a[l.code]||(a[l.code]=new r._Code(l.code))})}H.useFunc=i;var t;(function(n){n[n.Num=0]="Num",n[n.Str=1]="Str"})(t||(H.Type=t={}));function o(n,l,b){if(n instanceof e.Name){const k=l===t.Num;return b?k?(0,e._)`"[" + ${n} + "]"`:(0,e._)`"['" + ${n} + "']"`:k?(0,e._)`"/" + ${n}`:(0,e._)`"/" + ${n}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return b?(0,e.getProperty)(n).toString():"/"+_(n)}H.getErrorPath=o;function h(n,l,b=n.opts.strictSchema){if(b){if(l=`strict mode: ${l}`,b===!0)throw new Error(l);n.self.logger.warn(l)}}return H.checkStrictMode=h,H}var Te={},Jt;function ge(){if(Jt)return Te;Jt=1,Object.defineProperty(Te,"__esModule",{value:!0});const e=J(),r={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Te.default=r,Te}var Wt;function _t(){return Wt||(Wt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const r=J(),g=Y(),d=ge();e.keywordError={message:({keyword:a})=>(0,r.str)`must pass "${a}" keyword validation`},e.keyword$DataError={message:({keyword:a,schemaType:i})=>i?(0,r.str)`"${a}" keyword must be ${i} ($data)`:(0,r.str)`"${a}" keyword is invalid ($data)`};function $(a,i=e.keywordError,t,o){const{it:h}=a,{gen:n,compositeRule:l,allErrors:b}=h,k=P(a,i,t);o??(l||b)?p(n,k):E(h,(0,r._)`[${k}]`)}e.reportError=$;function s(a,i=e.keywordError,t){const{it:o}=a,{gen:h,compositeRule:n,allErrors:l}=o,b=P(a,i,t);p(h,b),n||l||E(o,d.default.vErrors)}e.reportExtraError=s;function f(a,i){a.assign(d.default.errors,i),a.if((0,r._)`${d.default.vErrors} !== null`,()=>a.if(i,()=>a.assign((0,r._)`${d.default.vErrors}.length`,i),()=>a.assign(d.default.vErrors,null)))}e.resetErrorsCount=f;function c({gen:a,keyword:i,schemaValue:t,data:o,errsCount:h,it:n}){if(h===void 0)throw new Error("ajv implementation error");const l=a.name("err");a.forRange("i",h,d.default.errors,b=>{a.const(l,(0,r._)`${d.default.vErrors}[${b}]`),a.if((0,r._)`${l}.instancePath === undefined`,()=>a.assign((0,r._)`${l}.instancePath`,(0,r.strConcat)(d.default.instancePath,n.errorPath))),a.assign((0,r._)`${l}.schemaPath`,(0,r.str)`${n.errSchemaPath}/${i}`),n.opts.verbose&&(a.assign((0,r._)`${l}.schema`,t),a.assign((0,r._)`${l}.data`,o))})}e.extendErrors=c;function p(a,i){const t=a.const("err",i);a.if((0,r._)`${d.default.vErrors} === null`,()=>a.assign(d.default.vErrors,(0,r._)`[${t}]`),(0,r._)`${d.default.vErrors}.push(${t})`),a.code((0,r._)`${d.default.errors}++`)}function E(a,i){const{gen:t,validateName:o,schemaEnv:h}=a;h.$async?t.throw((0,r._)`new ${a.ValidationError}(${i})`):(t.assign((0,r._)`${o}.errors`,i),t.return(!1))}const _={keyword:new r.Name("keyword"),schemaPath:new r.Name("schemaPath"),params:new r.Name("params"),propertyName:new r.Name("propertyName"),message:new r.Name("message"),schema:new r.Name("schema"),parentSchema:new r.Name("parentSchema")};function P(a,i,t){const{createErrors:o}=a.it;return o===!1?(0,r._)`{}`:v(a,i,t)}function v(a,i,t={}){const{gen:o,it:h}=a,n=[y(h,t),m(a,t)];return w(a,i,n),o.object(...n)}function y({errorPath:a},{instancePath:i}){const t=i?(0,r.str)`${a}${(0,g.getErrorPath)(i,g.Type.Str)}`:a;return[d.default.instancePath,(0,r.strConcat)(d.default.instancePath,t)]}function m({keyword:a,it:{errSchemaPath:i}},{schemaPath:t,parentSchema:o}){let h=o?i:(0,r.str)`${i}/${a}`;return t&&(h=(0,r.str)`${h}${(0,g.getErrorPath)(t,g.Type.Str)}`),[_.schemaPath,h]}function w(a,{params:i,message:t},o){const{keyword:h,data:n,schemaValue:l,it:b}=a,{opts:k,propertyName:C,topSchemaRef:D,schemaPath:V}=b;o.push([_.keyword,h],[_.params,typeof i=="function"?i(a):i||(0,r._)`{}`]),k.messages&&o.push([_.message,typeof t=="function"?t(a):t]),k.verbose&&o.push([_.schema,l],[_.parentSchema,(0,r._)`${D}${V}`],[d.default.data,n]),C&&o.push([_.propertyName,C])}})(Nt)),Nt}var Bt;function dn(){if(Bt)return $e;Bt=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.boolOrEmptySchema=$e.topBoolOrEmptySchema=void 0;const e=_t(),r=J(),g=ge(),d={message:"boolean schema is false"};function $(c){const{gen:p,schema:E,validateName:_}=c;E===!1?f(c,!1):typeof E=="object"&&E.$async===!0?p.return(g.default.data):(p.assign((0,r._)`${_}.errors`,null),p.return(!0))}$e.topBoolOrEmptySchema=$;function s(c,p){const{gen:E,schema:_}=c;_===!1?(E.var(p,!1),f(c)):E.var(p,!0)}$e.boolOrEmptySchema=s;function f(c,p){const{gen:E,data:_}=c,P={gen:E,keyword:"false schema",data:_,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:c};(0,e.reportError)(P,d,void 0,p)}return $e}var re={},we={},Yt;function tn(){if(Yt)return we;Yt=1,Object.defineProperty(we,"__esModule",{value:!0}),we.getRules=we.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],r=new Set(e);function g($){return typeof $=="string"&&r.has($)}we.isJSONType=g;function d(){const $={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...$,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},$.number,$.string,$.array,$.object],post:{rules:[]},all:{},keywords:{}}}return we.getRules=d,we}var me={},Qt;function rn(){if(Qt)return me;Qt=1,Object.defineProperty(me,"__esModule",{value:!0}),me.shouldUseRule=me.shouldUseGroup=me.schemaHasRulesForType=void 0;function e({schema:d,self:$},s){const f=$.RULES.types[s];return f&&f!==!0&&r(d,f)}me.schemaHasRulesForType=e;function r(d,$){return $.rules.some(s=>g(d,s))}me.shouldUseGroup=r;function g(d,$){var s;return d[$.keyword]!==void 0||((s=$.definition.implements)===null||s===void 0?void 0:s.some(f=>d[f]!==void 0))}return me.shouldUseRule=g,me}var Xt;function vt(){if(Xt)return re;Xt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.reportTypeError=re.checkDataTypes=re.checkDataType=re.coerceAndCheckDataType=re.getJSONTypes=re.getSchemaTypes=re.DataType=void 0;const e=tn(),r=rn(),g=_t(),d=J(),$=Y();var s;(function(t){t[t.Correct=0]="Correct",t[t.Wrong=1]="Wrong"})(s||(re.DataType=s={}));function f(t){const o=c(t.type);if(o.includes("null")){if(t.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!o.length&&t.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');t.nullable===!0&&o.push("null")}return o}re.getSchemaTypes=f;function c(t){const o=Array.isArray(t)?t:t?[t]:[];if(o.every(e.isJSONType))return o;throw new Error("type must be JSONType or JSONType[]: "+o.join(","))}re.getJSONTypes=c;function p(t,o){const{gen:h,data:n,opts:l}=t,b=_(o,l.coerceTypes),k=o.length>0&&!(b.length===0&&o.length===1&&(0,r.schemaHasRulesForType)(t,o[0]));if(k){const C=m(o,n,l.strictNumbers,s.Wrong);h.if(C,()=>{b.length?P(t,o,b):a(t)})}return k}re.coerceAndCheckDataType=p;const E=new Set(["string","number","integer","boolean","null"]);function _(t,o){return o?t.filter(h=>E.has(h)||o==="array"&&h==="array"):[]}function P(t,o,h){const{gen:n,data:l,opts:b}=t,k=n.let("dataType",(0,d._)`typeof ${l}`),C=n.let("coerced",(0,d._)`undefined`);b.coerceTypes==="array"&&n.if((0,d._)`${k} == 'object' && Array.isArray(${l}) && ${l}.length == 1`,()=>n.assign(l,(0,d._)`${l}[0]`).assign(k,(0,d._)`typeof ${l}`).if(m(o,l,b.strictNumbers),()=>n.assign(C,l))),n.if((0,d._)`${C} !== undefined`);for(const V of h)(E.has(V)||V==="array"&&b.coerceTypes==="array")&&D(V);n.else(),a(t),n.endIf(),n.if((0,d._)`${C} !== undefined`,()=>{n.assign(l,C),v(t,C)});function D(V){switch(V){case"string":n.elseIf((0,d._)`${k} == "number" || ${k} == "boolean"`).assign(C,(0,d._)`"" + ${l}`).elseIf((0,d._)`${l} === null`).assign(C,(0,d._)`""`);return;case"number":n.elseIf((0,d._)`${k} == "boolean" || ${l} === null
              || (${k} == "string" && ${l} && ${l} == +${l})`).assign(C,(0,d._)`+${l}`);return;case"integer":n.elseIf((0,d._)`${k} === "boolean" || ${l} === null
              || (${k} === "string" && ${l} && ${l} == +${l} && !(${l} % 1))`).assign(C,(0,d._)`+${l}`);return;case"boolean":n.elseIf((0,d._)`${l} === "false" || ${l} === 0 || ${l} === null`).assign(C,!1).elseIf((0,d._)`${l} === "true" || ${l} === 1`).assign(C,!0);return;case"null":n.elseIf((0,d._)`${l} === "" || ${l} === 0 || ${l} === false`),n.assign(C,null);return;case"array":n.elseIf((0,d._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${l} === null`).assign(C,(0,d._)`[${l}]`)}}}function v({gen:t,parentData:o,parentDataProperty:h},n){t.if((0,d._)`${o} !== undefined`,()=>t.assign((0,d._)`${o}[${h}]`,n))}function y(t,o,h,n=s.Correct){const l=n===s.Correct?d.operators.EQ:d.operators.NEQ;let b;switch(t){case"null":return(0,d._)`${o} ${l} null`;case"array":b=(0,d._)`Array.isArray(${o})`;break;case"object":b=(0,d._)`${o} && typeof ${o} == "object" && !Array.isArray(${o})`;break;case"integer":b=k((0,d._)`!(${o} % 1) && !isNaN(${o})`);break;case"number":b=k();break;default:return(0,d._)`typeof ${o} ${l} ${t}`}return n===s.Correct?b:(0,d.not)(b);function k(C=d.nil){return(0,d.and)((0,d._)`typeof ${o} == "number"`,C,h?(0,d._)`isFinite(${o})`:d.nil)}}re.checkDataType=y;function m(t,o,h,n){if(t.length===1)return y(t[0],o,h,n);let l;const b=(0,$.toHash)(t);if(b.array&&b.object){const k=(0,d._)`typeof ${o} != "object"`;l=b.null?k:(0,d._)`!${o} || ${k}`,delete b.null,delete b.array,delete b.object}else l=d.nil;b.number&&delete b.integer;for(const k in b)l=(0,d.and)(l,y(k,o,h,n));return l}re.checkDataTypes=m;const w={message:({schema:t})=>`must be ${t}`,params:({schema:t,schemaValue:o})=>typeof t=="string"?(0,d._)`{type: ${t}}`:(0,d._)`{type: ${o}}`};function a(t){const o=i(t);(0,g.reportError)(o,w)}re.reportTypeError=a;function i(t){const{gen:o,data:h,schema:n}=t,l=(0,$.schemaRefOrVal)(t,n,"type");return{gen:o,keyword:"type",data:h,schema:n.type,schemaCode:l,schemaValue:l,parentSchema:n,params:{},it:t}}return re}var je={},Zt;function fn(){if(Zt)return je;Zt=1,Object.defineProperty(je,"__esModule",{value:!0}),je.assignDefaults=void 0;const e=J(),r=Y();function g($,s){const{properties:f,items:c}=$.schema;if(s==="object"&&f)for(const p in f)d($,p,f[p].default);else s==="array"&&Array.isArray(c)&&c.forEach((p,E)=>d($,E,p.default))}je.assignDefaults=g;function d($,s,f){const{gen:c,compositeRule:p,data:E,opts:_}=$;if(f===void 0)return;const P=(0,e._)`${E}${(0,e.getProperty)(s)}`;if(p){(0,r.checkStrictMode)($,`default is ignored for: ${P}`);return}let v=(0,e._)`${P} === undefined`;_.useDefaults==="empty"&&(v=(0,e._)`${v} || ${P} === null || ${P} === ""`),c.if(v,(0,e._)`${P} = ${(0,e.stringify)(f)}`)}return je}var le={},X={},xt;function de(){if(xt)return X;xt=1,Object.defineProperty(X,"__esModule",{value:!0}),X.validateUnion=X.validateArray=X.usePattern=X.callValidateCode=X.schemaProperties=X.allSchemaProperties=X.noPropertyInData=X.propertyInData=X.isOwnProperty=X.hasPropFunc=X.reportMissingProp=X.checkMissingProp=X.checkReportMissingProp=void 0;const e=J(),r=Y(),g=ge(),d=Y();function $(t,o){const{gen:h,data:n,it:l}=t;h.if(_(h,n,o,l.opts.ownProperties),()=>{t.setParams({missingProperty:(0,e._)`${o}`},!0),t.error()})}X.checkReportMissingProp=$;function s({gen:t,data:o,it:{opts:h}},n,l){return(0,e.or)(...n.map(b=>(0,e.and)(_(t,o,b,h.ownProperties),(0,e._)`${l} = ${b}`)))}X.checkMissingProp=s;function f(t,o){t.setParams({missingProperty:o},!0),t.error()}X.reportMissingProp=f;function c(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}X.hasPropFunc=c;function p(t,o,h){return(0,e._)`${c(t)}.call(${o}, ${h})`}X.isOwnProperty=p;function E(t,o,h,n){const l=(0,e._)`${o}${(0,e.getProperty)(h)} !== undefined`;return n?(0,e._)`${l} && ${p(t,o,h)}`:l}X.propertyInData=E;function _(t,o,h,n){const l=(0,e._)`${o}${(0,e.getProperty)(h)} === undefined`;return n?(0,e.or)(l,(0,e.not)(p(t,o,h))):l}X.noPropertyInData=_;function P(t){return t?Object.keys(t).filter(o=>o!=="__proto__"):[]}X.allSchemaProperties=P;function v(t,o){return P(o).filter(h=>!(0,r.alwaysValidSchema)(t,o[h]))}X.schemaProperties=v;function y({schemaCode:t,data:o,it:{gen:h,topSchemaRef:n,schemaPath:l,errorPath:b},it:k},C,D,V){const K=V?(0,e._)`${t}, ${o}, ${n}${l}`:o,F=[[g.default.instancePath,(0,e.strConcat)(g.default.instancePath,b)],[g.default.parentData,k.parentData],[g.default.parentDataProperty,k.parentDataProperty],[g.default.rootData,g.default.rootData]];k.opts.dynamicRef&&F.push([g.default.dynamicAnchors,g.default.dynamicAnchors]);const B=(0,e._)`${K}, ${h.object(...F)}`;return D!==e.nil?(0,e._)`${C}.call(${D}, ${B})`:(0,e._)`${C}(${B})`}X.callValidateCode=y;const m=(0,e._)`new RegExp`;function w({gen:t,it:{opts:o}},h){const n=o.unicodeRegExp?"u":"",{regExp:l}=o.code,b=l(h,n);return t.scopeValue("pattern",{key:b.toString(),ref:b,code:(0,e._)`${l.code==="new RegExp"?m:(0,d.useFunc)(t,l)}(${h}, ${n})`})}X.usePattern=w;function a(t){const{gen:o,data:h,keyword:n,it:l}=t,b=o.name("valid");if(l.allErrors){const C=o.let("valid",!0);return k(()=>o.assign(C,!1)),C}return o.var(b,!0),k(()=>o.break()),b;function k(C){const D=o.const("len",(0,e._)`${h}.length`);o.forRange("i",0,D,V=>{t.subschema({keyword:n,dataProp:V,dataPropType:r.Type.Num},b),o.if((0,e.not)(b),C)})}}X.validateArray=a;function i(t){const{gen:o,schema:h,keyword:n,it:l}=t;if(!Array.isArray(h))throw new Error("ajv implementation error");if(h.some(D=>(0,r.alwaysValidSchema)(l,D))&&!l.opts.unevaluated)return;const k=o.let("valid",!1),C=o.name("_valid");o.block(()=>h.forEach((D,V)=>{const K=t.subschema({keyword:n,schemaProp:V,compositeRule:!0},C);o.assign(k,(0,e._)`${k} || ${C}`),t.mergeValidEvaluated(K,C)||o.if((0,e.not)(k))})),t.result(k,()=>t.reset(),()=>t.error(!0))}return X.validateUnion=i,X}var er;function hn(){if(er)return le;er=1,Object.defineProperty(le,"__esModule",{value:!0}),le.validateKeywordUsage=le.validSchemaType=le.funcKeywordCode=le.macroKeywordCode=void 0;const e=J(),r=ge(),g=de(),d=_t();function $(v,y){const{gen:m,keyword:w,schema:a,parentSchema:i,it:t}=v,o=y.macro.call(t.self,a,i,t),h=E(m,w,o);t.opts.validateSchema!==!1&&t.self.validateSchema(o,!0);const n=m.name("valid");v.subschema({schema:o,schemaPath:e.nil,errSchemaPath:`${t.errSchemaPath}/${w}`,topSchemaRef:h,compositeRule:!0},n),v.pass(n,()=>v.error(!0))}le.macroKeywordCode=$;function s(v,y){var m;const{gen:w,keyword:a,schema:i,parentSchema:t,$data:o,it:h}=v;p(h,y);const n=!o&&y.compile?y.compile.call(h.self,i,t,h):y.validate,l=E(w,a,n),b=w.let("valid");v.block$data(b,k),v.ok((m=y.valid)!==null&&m!==void 0?m:b);function k(){if(y.errors===!1)V(),y.modifying&&f(v),K(()=>v.error());else{const F=y.async?C():D();y.modifying&&f(v),K(()=>c(v,F))}}function C(){const F=w.let("ruleErrs",null);return w.try(()=>V((0,e._)`await `),B=>w.assign(b,!1).if((0,e._)`${B} instanceof ${h.ValidationError}`,()=>w.assign(F,(0,e._)`${B}.errors`),()=>w.throw(B))),F}function D(){const F=(0,e._)`${l}.errors`;return w.assign(F,null),V(e.nil),F}function V(F=y.async?(0,e._)`await `:e.nil){const B=h.opts.passContext?r.default.this:r.default.self,x=!("compile"in y&&!o||y.schema===!1);w.assign(b,(0,e._)`${F}${(0,g.callValidateCode)(v,l,B,x)}`,y.modifying)}function K(F){var B;w.if((0,e.not)((B=y.valid)!==null&&B!==void 0?B:b),F)}}le.funcKeywordCode=s;function f(v){const{gen:y,data:m,it:w}=v;y.if(w.parentData,()=>y.assign(m,(0,e._)`${w.parentData}[${w.parentDataProperty}]`))}function c(v,y){const{gen:m}=v;m.if((0,e._)`Array.isArray(${y})`,()=>{m.assign(r.default.vErrors,(0,e._)`${r.default.vErrors} === null ? ${y} : ${r.default.vErrors}.concat(${y})`).assign(r.default.errors,(0,e._)`${r.default.vErrors}.length`),(0,d.extendErrors)(v)},()=>v.error())}function p({schemaEnv:v},y){if(y.async&&!v.$async)throw new Error("async keyword in sync schema")}function E(v,y,m){if(m===void 0)throw new Error(`keyword "${y}" failed to compile`);return v.scopeValue("keyword",typeof m=="function"?{ref:m}:{ref:m,code:(0,e.stringify)(m)})}function _(v,y,m=!1){return!y.length||y.some(w=>w==="array"?Array.isArray(v):w==="object"?v&&typeof v=="object"&&!Array.isArray(v):typeof v==w||m&&typeof v>"u")}le.validSchemaType=_;function P({schema:v,opts:y,self:m,errSchemaPath:w},a,i){if(Array.isArray(a.keyword)?!a.keyword.includes(i):a.keyword!==i)throw new Error("ajv implementation error");const t=a.dependencies;if(t?.some(o=>!Object.prototype.hasOwnProperty.call(v,o)))throw new Error(`parent schema must have dependencies of ${i}: ${t.join(",")}`);if(a.validateSchema&&!a.validateSchema(v[i])){const h=`keyword "${i}" value is invalid at path "${w}": `+m.errorsText(a.validateSchema.errors);if(y.validateSchema==="log")m.logger.error(h);else throw new Error(h)}}return le.validateKeywordUsage=P,le}var ye={},tr;function pn(){if(tr)return ye;tr=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.extendSubschemaMode=ye.extendSubschemaData=ye.getSubschema=void 0;const e=J(),r=Y();function g(s,{keyword:f,schemaProp:c,schema:p,schemaPath:E,errSchemaPath:_,topSchemaRef:P}){if(f!==void 0&&p!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(f!==void 0){const v=s.schema[f];return c===void 0?{schema:v,schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(f)}`,errSchemaPath:`${s.errSchemaPath}/${f}`}:{schema:v[c],schemaPath:(0,e._)`${s.schemaPath}${(0,e.getProperty)(f)}${(0,e.getProperty)(c)}`,errSchemaPath:`${s.errSchemaPath}/${f}/${(0,r.escapeFragment)(c)}`}}if(p!==void 0){if(E===void 0||_===void 0||P===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:p,schemaPath:E,topSchemaRef:P,errSchemaPath:_}}throw new Error('either "keyword" or "schema" must be passed')}ye.getSubschema=g;function d(s,f,{dataProp:c,dataPropType:p,data:E,dataTypes:_,propertyName:P}){if(E!==void 0&&c!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:v}=f;if(c!==void 0){const{errorPath:m,dataPathArr:w,opts:a}=f,i=v.let("data",(0,e._)`${f.data}${(0,e.getProperty)(c)}`,!0);y(i),s.errorPath=(0,e.str)`${m}${(0,r.getErrorPath)(c,p,a.jsPropertySyntax)}`,s.parentDataProperty=(0,e._)`${c}`,s.dataPathArr=[...w,s.parentDataProperty]}if(E!==void 0){const m=E instanceof e.Name?E:v.let("data",E,!0);y(m),P!==void 0&&(s.propertyName=P)}_&&(s.dataTypes=_);function y(m){s.data=m,s.dataLevel=f.dataLevel+1,s.dataTypes=[],f.definedProperties=new Set,s.parentData=f.data,s.dataNames=[...f.dataNames,m]}}ye.extendSubschemaData=d;function $(s,{jtdDiscriminator:f,jtdMetadata:c,compositeRule:p,createErrors:E,allErrors:_}){p!==void 0&&(s.compositeRule=p),E!==void 0&&(s.createErrors=E),_!==void 0&&(s.allErrors=_),s.jtdDiscriminator=f,s.jtdMetadata=c}return ye.extendSubschemaMode=$,ye}var ne={},kt,rr;function nn(){return rr||(rr=1,kt=function e(r,g){if(r===g)return!0;if(r&&g&&typeof r=="object"&&typeof g=="object"){if(r.constructor!==g.constructor)return!1;var d,$,s;if(Array.isArray(r)){if(d=r.length,d!=g.length)return!1;for($=d;$--!==0;)if(!e(r[$],g[$]))return!1;return!0}if(r.constructor===RegExp)return r.source===g.source&&r.flags===g.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===g.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===g.toString();if(s=Object.keys(r),d=s.length,d!==Object.keys(g).length)return!1;for($=d;$--!==0;)if(!Object.prototype.hasOwnProperty.call(g,s[$]))return!1;for($=d;$--!==0;){var f=s[$];if(!e(r[f],g[f]))return!1}return!0}return r!==r&&g!==g}),kt}var qt={exports:{}},nr;function mn(){if(nr)return qt.exports;nr=1;var e=qt.exports=function(d,$,s){typeof $=="function"&&(s=$,$={}),s=$.cb||s;var f=typeof s=="function"?s:s.pre||function(){},c=s.post||function(){};r($,f,c,d,"",d)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function r(d,$,s,f,c,p,E,_,P,v){if(f&&typeof f=="object"&&!Array.isArray(f)){$(f,c,p,E,_,P,v);for(var y in f){var m=f[y];if(Array.isArray(m)){if(y in e.arrayKeywords)for(var w=0;w<m.length;w++)r(d,$,s,m[w],c+"/"+y+"/"+w,p,c,y,f,w)}else if(y in e.propsKeywords){if(m&&typeof m=="object")for(var a in m)r(d,$,s,m[a],c+"/"+y+"/"+g(a),p,c,y,f,a)}else(y in e.keywords||d.allKeys&&!(y in e.skipKeywords))&&r(d,$,s,m,c+"/"+y,p,c,y,f)}s(f,c,p,E,_,P,v)}}function g(d){return d.replace(/~/g,"~0").replace(/\//g,"~1")}return qt.exports}var sr;function gt(){if(sr)return ne;sr=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.getSchemaRefs=ne.resolveUrl=ne.normalizeId=ne._getFullPath=ne.getFullPath=ne.inlineRef=void 0;const e=Y(),r=nn(),g=mn(),d=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function $(w,a=!0){return typeof w=="boolean"?!0:a===!0?!f(w):a?c(w)<=a:!1}ne.inlineRef=$;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function f(w){for(const a in w){if(s.has(a))return!0;const i=w[a];if(Array.isArray(i)&&i.some(f)||typeof i=="object"&&f(i))return!0}return!1}function c(w){let a=0;for(const i in w){if(i==="$ref")return 1/0;if(a++,!d.has(i)&&(typeof w[i]=="object"&&(0,e.eachItem)(w[i],t=>a+=c(t)),a===1/0))return 1/0}return a}function p(w,a="",i){i!==!1&&(a=P(a));const t=w.parse(a);return E(w,t)}ne.getFullPath=p;function E(w,a){return w.serialize(a).split("#")[0]+"#"}ne._getFullPath=E;const _=/#\/?$/;function P(w){return w?w.replace(_,""):""}ne.normalizeId=P;function v(w,a,i){return i=P(i),w.resolve(a,i)}ne.resolveUrl=v;const y=/^[a-z_][-a-z0-9._]*$/i;function m(w,a){if(typeof w=="boolean")return{};const{schemaId:i,uriResolver:t}=this.opts,o=P(w[i]||a),h={"":o},n=p(t,o,!1),l={},b=new Set;return g(w,{allKeys:!0},(D,V,K,F)=>{if(F===void 0)return;const B=n+V;let x=h[F];typeof D[i]=="string"&&(x=fe.call(this,D[i])),he.call(this,D.$anchor),he.call(this,D.$dynamicAnchor),h[V]=x;function fe(Z){const ve=this.opts.uriResolver.resolve;if(Z=P(x?ve(x,Z):Z),b.has(Z))throw C(Z);b.add(Z);let M=this.refs[Z];return typeof M=="string"&&(M=this.refs[M]),typeof M=="object"?k(D,M.schema,Z):Z!==P(B)&&(Z[0]==="#"?(k(D,l[Z],Z),l[Z]=D):this.refs[Z]=B),Z}function he(Z){if(typeof Z=="string"){if(!y.test(Z))throw new Error(`invalid anchor "${Z}"`);fe.call(this,`#${Z}`)}}}),l;function k(D,V,K){if(V!==void 0&&!r(D,V))throw C(K)}function C(D){return new Error(`reference "${D}" resolves to more than one schema`)}}return ne.getSchemaRefs=m,ne}var ar;function $t(){if(ar)return pe;ar=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.getData=pe.KeywordCxt=pe.validateFunctionCode=void 0;const e=dn(),r=vt(),g=rn(),d=vt(),$=fn(),s=hn(),f=pn(),c=J(),p=ge(),E=gt(),_=Y(),P=_t();function v(N){if(n(N)&&(b(N),h(N))){a(N);return}y(N,()=>(0,e.topBoolOrEmptySchema)(N))}pe.validateFunctionCode=v;function y({gen:N,validateName:O,schema:I,schemaEnv:A,opts:z},G){z.code.es5?N.func(O,(0,c._)`${p.default.data}, ${p.default.valCxt}`,A.$async,()=>{N.code((0,c._)`"use strict"; ${t(I,z)}`),w(N,z),N.code(G)}):N.func(O,(0,c._)`${p.default.data}, ${m(z)}`,A.$async,()=>N.code(t(I,z)).code(G))}function m(N){return(0,c._)`{${p.default.instancePath}="", ${p.default.parentData}, ${p.default.parentDataProperty}, ${p.default.rootData}=${p.default.data}${N.dynamicRef?(0,c._)`, ${p.default.dynamicAnchors}={}`:c.nil}}={}`}function w(N,O){N.if(p.default.valCxt,()=>{N.var(p.default.instancePath,(0,c._)`${p.default.valCxt}.${p.default.instancePath}`),N.var(p.default.parentData,(0,c._)`${p.default.valCxt}.${p.default.parentData}`),N.var(p.default.parentDataProperty,(0,c._)`${p.default.valCxt}.${p.default.parentDataProperty}`),N.var(p.default.rootData,(0,c._)`${p.default.valCxt}.${p.default.rootData}`),O.dynamicRef&&N.var(p.default.dynamicAnchors,(0,c._)`${p.default.valCxt}.${p.default.dynamicAnchors}`)},()=>{N.var(p.default.instancePath,(0,c._)`""`),N.var(p.default.parentData,(0,c._)`undefined`),N.var(p.default.parentDataProperty,(0,c._)`undefined`),N.var(p.default.rootData,p.default.data),O.dynamicRef&&N.var(p.default.dynamicAnchors,(0,c._)`{}`)})}function a(N){const{schema:O,opts:I,gen:A}=N;y(N,()=>{I.$comment&&O.$comment&&F(N),D(N),A.let(p.default.vErrors,null),A.let(p.default.errors,0),I.unevaluated&&i(N),k(N),B(N)})}function i(N){const{gen:O,validateName:I}=N;N.evaluated=O.const("evaluated",(0,c._)`${I}.evaluated`),O.if((0,c._)`${N.evaluated}.dynamicProps`,()=>O.assign((0,c._)`${N.evaluated}.props`,(0,c._)`undefined`)),O.if((0,c._)`${N.evaluated}.dynamicItems`,()=>O.assign((0,c._)`${N.evaluated}.items`,(0,c._)`undefined`))}function t(N,O){const I=typeof N=="object"&&N[O.schemaId];return I&&(O.code.source||O.code.process)?(0,c._)`/*# sourceURL=${I} */`:c.nil}function o(N,O){if(n(N)&&(b(N),h(N))){l(N,O);return}(0,e.boolOrEmptySchema)(N,O)}function h({schema:N,self:O}){if(typeof N=="boolean")return!N;for(const I in N)if(O.RULES.all[I])return!0;return!1}function n(N){return typeof N.schema!="boolean"}function l(N,O){const{schema:I,gen:A,opts:z}=N;z.$comment&&I.$comment&&F(N),V(N),K(N);const G=A.const("_errs",p.default.errors);k(N,G),A.var(O,(0,c._)`${G} === ${p.default.errors}`)}function b(N){(0,_.checkUnknownRules)(N),C(N)}function k(N,O){if(N.opts.jtd)return fe(N,[],!1,O);const I=(0,r.getSchemaTypes)(N.schema),A=(0,r.coerceAndCheckDataType)(N,I);fe(N,I,!A,O)}function C(N){const{schema:O,errSchemaPath:I,opts:A,self:z}=N;O.$ref&&A.ignoreKeywordsWithRef&&(0,_.schemaHasRulesButRef)(O,z.RULES)&&z.logger.warn(`$ref: keywords ignored in schema at path "${I}"`)}function D(N){const{schema:O,opts:I}=N;O.default!==void 0&&I.useDefaults&&I.strictSchema&&(0,_.checkStrictMode)(N,"default is ignored in the schema root")}function V(N){const O=N.schema[N.opts.schemaId];O&&(N.baseId=(0,E.resolveUrl)(N.opts.uriResolver,N.baseId,O))}function K(N){if(N.schema.$async&&!N.schemaEnv.$async)throw new Error("async schema in sync schema")}function F({gen:N,schemaEnv:O,schema:I,errSchemaPath:A,opts:z}){const G=I.$comment;if(z.$comment===!0)N.code((0,c._)`${p.default.self}.logger.log(${G})`);else if(typeof z.$comment=="function"){const ee=(0,c.str)`${A}/$comment`,ce=N.scopeValue("root",{ref:O.root});N.code((0,c._)`${p.default.self}.opts.$comment(${G}, ${ee}, ${ce}.schema)`)}}function B(N){const{gen:O,schemaEnv:I,validateName:A,ValidationError:z,opts:G}=N;I.$async?O.if((0,c._)`${p.default.errors} === 0`,()=>O.return(p.default.data),()=>O.throw((0,c._)`new ${z}(${p.default.vErrors})`)):(O.assign((0,c._)`${A}.errors`,p.default.vErrors),G.unevaluated&&x(N),O.return((0,c._)`${p.default.errors} === 0`))}function x({gen:N,evaluated:O,props:I,items:A}){I instanceof c.Name&&N.assign((0,c._)`${O}.props`,I),A instanceof c.Name&&N.assign((0,c._)`${O}.items`,A)}function fe(N,O,I,A){const{gen:z,schema:G,data:ee,allErrors:ce,opts:ae,self:oe}=N,{RULES:te}=oe;if(G.$ref&&(ae.ignoreKeywordsWithRef||!(0,_.schemaHasRulesButRef)(G,te))){z.block(()=>U(N,"$ref",te.all.$ref.definition));return}ae.jtd||Z(N,O),z.block(()=>{for(const ue of te.rules)Ee(ue);Ee(te.post)});function Ee(ue){(0,g.shouldUseGroup)(G,ue)&&(ue.type?(z.if((0,d.checkDataType)(ue.type,ee,ae.strictNumbers)),he(N,ue),O.length===1&&O[0]===ue.type&&I&&(z.else(),(0,d.reportTypeError)(N)),z.endIf()):he(N,ue),ce||z.if((0,c._)`${p.default.errors} === ${A||0}`))}}function he(N,O){const{gen:I,schema:A,opts:{useDefaults:z}}=N;z&&(0,$.assignDefaults)(N,O.type),I.block(()=>{for(const G of O.rules)(0,g.shouldUseRule)(A,G)&&U(N,G.keyword,G.definition,O.type)})}function Z(N,O){N.schemaEnv.meta||!N.opts.strictTypes||(ve(N,O),N.opts.allowUnionTypes||M(N,O),R(N,N.dataTypes))}function ve(N,O){if(O.length){if(!N.dataTypes.length){N.dataTypes=O;return}O.forEach(I=>{j(N.dataTypes,I)||S(N,`type "${I}" not allowed by context "${N.dataTypes.join(",")}"`)}),u(N,O)}}function M(N,O){O.length>1&&!(O.length===2&&O.includes("null"))&&S(N,"use allowUnionTypes to allow union type keyword")}function R(N,O){const I=N.self.RULES.all;for(const A in I){const z=I[A];if(typeof z=="object"&&(0,g.shouldUseRule)(N.schema,z)){const{type:G}=z.definition;G.length&&!G.some(ee=>T(O,ee))&&S(N,`missing type "${G.join(",")}" for keyword "${A}"`)}}}function T(N,O){return N.includes(O)||O==="number"&&N.includes("integer")}function j(N,O){return N.includes(O)||O==="integer"&&N.includes("number")}function u(N,O){const I=[];for(const A of N.dataTypes)j(O,A)?I.push(A):O.includes("integer")&&A==="number"&&I.push("integer");N.dataTypes=I}function S(N,O){const I=N.schemaEnv.baseId+N.errSchemaPath;O+=` at "${I}" (strictTypes)`,(0,_.checkStrictMode)(N,O,N.opts.strictTypes)}class q{constructor(O,I,A){if((0,s.validateKeywordUsage)(O,I,A),this.gen=O.gen,this.allErrors=O.allErrors,this.keyword=A,this.data=O.data,this.schema=O.schema[A],this.$data=I.$data&&O.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,_.schemaRefOrVal)(O,this.schema,A,this.$data),this.schemaType=I.schemaType,this.parentSchema=O.schema,this.params={},this.it=O,this.def=I,this.$data)this.schemaCode=O.gen.const("vSchema",W(this.$data,O));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${A} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=O.gen.const("_errs",p.default.errors))}result(O,I,A){this.failResult((0,c.not)(O),I,A)}failResult(O,I,A){this.gen.if(O),A?A():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(O,I){this.failResult((0,c.not)(O),void 0,I)}fail(O){if(O===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(O),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(O){if(!this.$data)return this.fail(O);const{schemaCode:I}=this;this.fail((0,c._)`${I} !== undefined && (${(0,c.or)(this.invalid$data(),O)})`)}error(O,I,A){if(I){this.setParams(I),this._error(O,A),this.setParams({});return}this._error(O,A)}_error(O,I){(O?P.reportExtraError:P.reportError)(this,this.def.error,I)}$dataError(){(0,P.reportError)(this,this.def.$dataError||P.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,P.resetErrorsCount)(this.gen,this.errsCount)}ok(O){this.allErrors||this.gen.if(O)}setParams(O,I){I?Object.assign(this.params,O):this.params=O}block$data(O,I,A=c.nil){this.gen.block(()=>{this.check$data(O,A),I()})}check$data(O=c.nil,I=c.nil){if(!this.$data)return;const{gen:A,schemaCode:z,schemaType:G,def:ee}=this;A.if((0,c.or)((0,c._)`${z} === undefined`,I)),O!==c.nil&&A.assign(O,!0),(G.length||ee.validateSchema)&&(A.elseIf(this.invalid$data()),this.$dataError(),O!==c.nil&&A.assign(O,!1)),A.else()}invalid$data(){const{gen:O,schemaCode:I,schemaType:A,def:z,it:G}=this;return(0,c.or)(ee(),ce());function ee(){if(A.length){if(!(I instanceof c.Name))throw new Error("ajv implementation error");const ae=Array.isArray(A)?A:[A];return(0,c._)`${(0,d.checkDataTypes)(ae,I,G.opts.strictNumbers,d.DataType.Wrong)}`}return c.nil}function ce(){if(z.validateSchema){const ae=O.scopeValue("validate$data",{ref:z.validateSchema});return(0,c._)`!${ae}(${I})`}return c.nil}}subschema(O,I){const A=(0,f.getSubschema)(this.it,O);(0,f.extendSubschemaData)(A,this.it,O),(0,f.extendSubschemaMode)(A,O);const z={...this.it,...A,items:void 0,props:void 0};return o(z,I),z}mergeEvaluated(O,I){const{it:A,gen:z}=this;A.opts.unevaluated&&(A.props!==!0&&O.props!==void 0&&(A.props=_.mergeEvaluated.props(z,O.props,A.props,I)),A.items!==!0&&O.items!==void 0&&(A.items=_.mergeEvaluated.items(z,O.items,A.items,I)))}mergeValidEvaluated(O,I){const{it:A,gen:z}=this;if(A.opts.unevaluated&&(A.props!==!0||A.items!==!0))return z.if(I,()=>this.mergeEvaluated(O,c.Name)),!0}}pe.KeywordCxt=q;function U(N,O,I,A){const z=new q(N,I,O);"code"in I?I.code(z,A):z.$data&&I.validate?(0,s.funcKeywordCode)(z,I):"macro"in I?(0,s.macroKeywordCode)(z,I):(I.compile||I.validate)&&(0,s.funcKeywordCode)(z,I)}const L=/^\/(?:[^~]|~0|~1)*$/,Q=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function W(N,{dataLevel:O,dataNames:I,dataPathArr:A}){let z,G;if(N==="")return p.default.rootData;if(N[0]==="/"){if(!L.test(N))throw new Error(`Invalid JSON-pointer: ${N}`);z=N,G=p.default.rootData}else{const oe=Q.exec(N);if(!oe)throw new Error(`Invalid JSON-pointer: ${N}`);const te=+oe[1];if(z=oe[2],z==="#"){if(te>=O)throw new Error(ae("property/index",te));return A[O-te]}if(te>O)throw new Error(ae("data",te));if(G=I[O-te],!z)return G}let ee=G;const ce=z.split("/");for(const oe of ce)oe&&(G=(0,c._)`${G}${(0,c.getProperty)((0,_.unescapeJsonPointer)(oe))}`,ee=(0,c._)`${ee} && ${G}`);return ee;function ae(oe,te){return`Cannot access ${oe} ${te} levels up, current level is ${O}`}}return pe.getData=W,pe}var Ce={},or;function At(){if(or)return Ce;or=1,Object.defineProperty(Ce,"__esModule",{value:!0});class e extends Error{constructor(g){super("validation failed"),this.errors=g,this.ajv=this.validation=!0}}return Ce.default=e,Ce}var Me={},ir;function wt(){if(ir)return Me;ir=1,Object.defineProperty(Me,"__esModule",{value:!0});const e=gt();class r extends Error{constructor(d,$,s,f){super(f||`can't resolve reference ${s} from id ${$}`),this.missingRef=(0,e.resolveUrl)(d,$,s),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(d,this.missingRef))}}return Me.default=r,Me}var ie={},ur;function Dt(){if(ur)return ie;ur=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.resolveSchema=ie.getCompilingSchema=ie.resolveRef=ie.compileSchema=ie.SchemaEnv=void 0;const e=J(),r=At(),g=ge(),d=gt(),$=Y(),s=$t();class f{constructor(i){var t;this.refs={},this.dynamicAnchors={};let o;typeof i.schema=="object"&&(o=i.schema),this.schema=i.schema,this.schemaId=i.schemaId,this.root=i.root||this,this.baseId=(t=i.baseId)!==null&&t!==void 0?t:(0,d.normalizeId)(o?.[i.schemaId||"$id"]),this.schemaPath=i.schemaPath,this.localRefs=i.localRefs,this.meta=i.meta,this.$async=o?.$async,this.refs={}}}ie.SchemaEnv=f;function c(a){const i=_.call(this,a);if(i)return i;const t=(0,d.getFullPath)(this.opts.uriResolver,a.root.baseId),{es5:o,lines:h}=this.opts.code,{ownProperties:n}=this.opts,l=new e.CodeGen(this.scope,{es5:o,lines:h,ownProperties:n});let b;a.$async&&(b=l.scopeValue("Error",{ref:r.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const k=l.scopeName("validate");a.validateName=k;const C={gen:l,allErrors:this.opts.allErrors,data:g.default.data,parentData:g.default.parentData,parentDataProperty:g.default.parentDataProperty,dataNames:[g.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:l.scopeValue("schema",this.opts.code.source===!0?{ref:a.schema,code:(0,e.stringify)(a.schema)}:{ref:a.schema}),validateName:k,ValidationError:b,schema:a.schema,schemaEnv:a,rootId:t,baseId:a.baseId||t,schemaPath:e.nil,errSchemaPath:a.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(a),(0,s.validateFunctionCode)(C),l.optimize(this.opts.code.optimize);const V=l.toString();D=`${l.scopeRefs(g.default.scope)}return ${V}`,this.opts.code.process&&(D=this.opts.code.process(D,a));const F=new Function(`${g.default.self}`,`${g.default.scope}`,D)(this,this.scope.get());if(this.scope.value(k,{ref:F}),F.errors=null,F.schema=a.schema,F.schemaEnv=a,a.$async&&(F.$async=!0),this.opts.code.source===!0&&(F.source={validateName:k,validateCode:V,scopeValues:l._values}),this.opts.unevaluated){const{props:B,items:x}=C;F.evaluated={props:B instanceof e.Name?void 0:B,items:x instanceof e.Name?void 0:x,dynamicProps:B instanceof e.Name,dynamicItems:x instanceof e.Name},F.source&&(F.source.evaluated=(0,e.stringify)(F.evaluated))}return a.validate=F,a}catch(V){throw delete a.validate,delete a.validateName,D&&this.logger.error("Error compiling schema, function code:",D),V}finally{this._compilations.delete(a)}}ie.compileSchema=c;function p(a,i,t){var o;t=(0,d.resolveUrl)(this.opts.uriResolver,i,t);const h=a.refs[t];if(h)return h;let n=v.call(this,a,t);if(n===void 0){const l=(o=a.localRefs)===null||o===void 0?void 0:o[t],{schemaId:b}=this.opts;l&&(n=new f({schema:l,schemaId:b,root:a,baseId:i}))}if(n!==void 0)return a.refs[t]=E.call(this,n)}ie.resolveRef=p;function E(a){return(0,d.inlineRef)(a.schema,this.opts.inlineRefs)?a.schema:a.validate?a:c.call(this,a)}function _(a){for(const i of this._compilations)if(P(i,a))return i}ie.getCompilingSchema=_;function P(a,i){return a.schema===i.schema&&a.root===i.root&&a.baseId===i.baseId}function v(a,i){let t;for(;typeof(t=this.refs[i])=="string";)i=t;return t||this.schemas[i]||y.call(this,a,i)}function y(a,i){const t=this.opts.uriResolver.parse(i),o=(0,d._getFullPath)(this.opts.uriResolver,t);let h=(0,d.getFullPath)(this.opts.uriResolver,a.baseId,void 0);if(Object.keys(a.schema).length>0&&o===h)return w.call(this,t,a);const n=(0,d.normalizeId)(o),l=this.refs[n]||this.schemas[n];if(typeof l=="string"){const b=y.call(this,a,l);return typeof b?.schema!="object"?void 0:w.call(this,t,b)}if(typeof l?.schema=="object"){if(l.validate||c.call(this,l),n===(0,d.normalizeId)(i)){const{schema:b}=l,{schemaId:k}=this.opts,C=b[k];return C&&(h=(0,d.resolveUrl)(this.opts.uriResolver,h,C)),new f({schema:b,schemaId:k,root:a,baseId:h})}return w.call(this,t,l)}}ie.resolveSchema=y;const m=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function w(a,{baseId:i,schema:t,root:o}){var h;if(((h=a.fragment)===null||h===void 0?void 0:h[0])!=="/")return;for(const b of a.fragment.slice(1).split("/")){if(typeof t=="boolean")return;const k=t[(0,$.unescapeFragment)(b)];if(k===void 0)return;t=k;const C=typeof t=="object"&&t[this.opts.schemaId];!m.has(b)&&C&&(i=(0,d.resolveUrl)(this.opts.uriResolver,i,C))}let n;if(typeof t!="boolean"&&t.$ref&&!(0,$.schemaHasRulesButRef)(t,this.RULES)){const b=(0,d.resolveUrl)(this.opts.uriResolver,i,t.$ref);n=y.call(this,o,b)}const{schemaId:l}=this.opts;if(n=n||new f({schema:t,schemaId:l,root:o,baseId:i}),n.schema!==n.root.schema)return n}return ie}const yn="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",vn="Meta-schema for $data reference (JSON AnySchema extension proposal)",_n="object",gn=["$data"],$n={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},wn=!1,bn={$id:yn,description:vn,type:_n,required:gn,properties:$n,additionalProperties:wn};var Ae={},ke={exports:{}},It,cr;function sn(){if(cr)return It;cr=1;const e=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),r=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function g(v){let y="",m=0,w=0;for(w=0;w<v.length;w++)if(m=v[w].charCodeAt(0),m!==48){if(!(m>=48&&m<=57||m>=65&&m<=70||m>=97&&m<=102))return"";y+=v[w];break}for(w+=1;w<v.length;w++){if(m=v[w].charCodeAt(0),!(m>=48&&m<=57||m>=65&&m<=70||m>=97&&m<=102))return"";y+=v[w]}return y}const d=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function $(v){return v.length=0,!0}function s(v,y,m){if(v.length){const w=g(v);if(w!=="")y.push(w);else return m.error=!0,!1;v.length=0}return!0}function f(v){let y=0;const m={error:!1,address:"",zone:""},w=[],a=[];let i=!1,t=!1,o=s;for(let h=0;h<v.length;h++){const n=v[h];if(!(n==="["||n==="]"))if(n===":"){if(i===!0&&(t=!0),!o(a,w,m))break;if(++y>7){m.error=!0;break}h>0&&v[h-1]===":"&&(i=!0),w.push(":");continue}else if(n==="%"){if(!o(a,w,m))break;o=$}else{a.push(n);continue}}return a.length&&(o===$?m.zone=a.join(""):t?w.push(a.join("")):w.push(g(a))),m.address=w.join(""),m}function c(v){if(p(v,":")<2)return{host:v,isIPV6:!1};const y=f(v);if(y.error)return{host:v,isIPV6:!1};{let m=y.address,w=y.address;return y.zone&&(m+="%"+y.zone,w+="%25"+y.zone),{host:m,isIPV6:!0,escapedHost:w}}}function p(v,y){let m=0;for(let w=0;w<v.length;w++)v[w]===y&&m++;return m}function E(v){let y=v;const m=[];let w=-1,a=0;for(;a=y.length;){if(a===1){if(y===".")break;if(y==="/"){m.push("/");break}else{m.push(y);break}}else if(a===2){if(y[0]==="."){if(y[1]===".")break;if(y[1]==="/"){y=y.slice(2);continue}}else if(y[0]==="/"&&(y[1]==="."||y[1]==="/")){m.push("/");break}}else if(a===3&&y==="/.."){m.length!==0&&m.pop(),m.push("/");break}if(y[0]==="."){if(y[1]==="."){if(y[2]==="/"){y=y.slice(3);continue}}else if(y[1]==="/"){y=y.slice(2);continue}}else if(y[0]==="/"&&y[1]==="."){if(y[2]==="/"){y=y.slice(2);continue}else if(y[2]==="."&&y[3]==="/"){y=y.slice(3),m.length!==0&&m.pop();continue}}if((w=y.indexOf("/",1))===-1){m.push(y);break}else m.push(y.slice(0,w)),y=y.slice(w)}return m.join("")}function _(v,y){const m=y!==!0?escape:unescape;return v.scheme!==void 0&&(v.scheme=m(v.scheme)),v.userinfo!==void 0&&(v.userinfo=m(v.userinfo)),v.host!==void 0&&(v.host=m(v.host)),v.path!==void 0&&(v.path=m(v.path)),v.query!==void 0&&(v.query=m(v.query)),v.fragment!==void 0&&(v.fragment=m(v.fragment)),v}function P(v){const y=[];if(v.userinfo!==void 0&&(y.push(v.userinfo),y.push("@")),v.host!==void 0){let m=unescape(v.host);if(!r(m)){const w=c(m);w.isIPV6===!0?m=`[${w.escapedHost}]`:m=v.host}y.push(m)}return(typeof v.port=="number"||typeof v.port=="string")&&(y.push(":"),y.push(String(v.port))),y.length?y.join(""):void 0}return It={nonSimpleDomain:d,recomposeAuthority:P,normalizeComponentEncoding:_,removeDotSegments:E,isIPv4:r,isUUID:e,normalizeIPv6:c,stringArrayToHexStripped:g},It}var Tt,lr;function En(){if(lr)return Tt;lr=1;const{isUUID:e}=sn(),r=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,g=["http","https","ws","wss","urn","urn:uuid"];function d(n){return g.indexOf(n)!==-1}function $(n){return n.secure===!0?!0:n.secure===!1?!1:n.scheme?n.scheme.length===3&&(n.scheme[0]==="w"||n.scheme[0]==="W")&&(n.scheme[1]==="s"||n.scheme[1]==="S")&&(n.scheme[2]==="s"||n.scheme[2]==="S"):!1}function s(n){return n.host||(n.error=n.error||"HTTP URIs must have a host."),n}function f(n){const l=String(n.scheme).toLowerCase()==="https";return(n.port===(l?443:80)||n.port==="")&&(n.port=void 0),n.path||(n.path="/"),n}function c(n){return n.secure=$(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n}function p(n){if((n.port===($(n)?443:80)||n.port==="")&&(n.port=void 0),typeof n.secure=="boolean"&&(n.scheme=n.secure?"wss":"ws",n.secure=void 0),n.resourceName){const[l,b]=n.resourceName.split("?");n.path=l&&l!=="/"?l:void 0,n.query=b,n.resourceName=void 0}return n.fragment=void 0,n}function E(n,l){if(!n.path)return n.error="URN can not be parsed",n;const b=n.path.match(r);if(b){const k=l.scheme||n.scheme||"urn";n.nid=b[1].toLowerCase(),n.nss=b[2];const C=`${k}:${l.nid||n.nid}`,D=h(C);n.path=void 0,D&&(n=D.parse(n,l))}else n.error=n.error||"URN can not be parsed.";return n}function _(n,l){if(n.nid===void 0)throw new Error("URN without nid cannot be serialized");const b=l.scheme||n.scheme||"urn",k=n.nid.toLowerCase(),C=`${b}:${l.nid||k}`,D=h(C);D&&(n=D.serialize(n,l));const V=n,K=n.nss;return V.path=`${k||l.nid}:${K}`,l.skipEscape=!0,V}function P(n,l){const b=n;return b.uuid=b.nss,b.nss=void 0,!l.tolerant&&(!b.uuid||!e(b.uuid))&&(b.error=b.error||"UUID is not valid."),b}function v(n){const l=n;return l.nss=(n.uuid||"").toLowerCase(),l}const y={scheme:"http",domainHost:!0,parse:s,serialize:f},m={scheme:"https",domainHost:y.domainHost,parse:s,serialize:f},w={scheme:"ws",domainHost:!0,parse:c,serialize:p},a={scheme:"wss",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize},o={http:y,https:m,ws:w,wss:a,urn:{scheme:"urn",parse:E,serialize:_,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:P,serialize:v,skipNormalize:!0}};Object.setPrototypeOf(o,null);function h(n){return n&&(o[n]||o[n.toLowerCase()])||void 0}return Tt={wsIsSecure:$,SCHEMES:o,isValidSchemeName:d,getSchemeHandler:h},Tt}var dr;function Sn(){if(dr)return ke.exports;dr=1;const{normalizeIPv6:e,removeDotSegments:r,recomposeAuthority:g,normalizeComponentEncoding:d,isIPv4:$,nonSimpleDomain:s}=sn(),{SCHEMES:f,getSchemeHandler:c}=En();function p(a,i){return typeof a=="string"?a=v(m(a,i),i):typeof a=="object"&&(a=m(v(a,i),i)),a}function E(a,i,t){const o=t?Object.assign({scheme:"null"},t):{scheme:"null"},h=_(m(a,o),m(i,o),o,!0);return o.skipEscape=!0,v(h,o)}function _(a,i,t,o){const h={};return o||(a=m(v(a,t),t),i=m(v(i,t),t)),t=t||{},!t.tolerant&&i.scheme?(h.scheme=i.scheme,h.userinfo=i.userinfo,h.host=i.host,h.port=i.port,h.path=r(i.path||""),h.query=i.query):(i.userinfo!==void 0||i.host!==void 0||i.port!==void 0?(h.userinfo=i.userinfo,h.host=i.host,h.port=i.port,h.path=r(i.path||""),h.query=i.query):(i.path?(i.path[0]==="/"?h.path=r(i.path):((a.userinfo!==void 0||a.host!==void 0||a.port!==void 0)&&!a.path?h.path="/"+i.path:a.path?h.path=a.path.slice(0,a.path.lastIndexOf("/")+1)+i.path:h.path=i.path,h.path=r(h.path)),h.query=i.query):(h.path=a.path,i.query!==void 0?h.query=i.query:h.query=a.query),h.userinfo=a.userinfo,h.host=a.host,h.port=a.port),h.scheme=a.scheme),h.fragment=i.fragment,h}function P(a,i,t){return typeof a=="string"?(a=unescape(a),a=v(d(m(a,t),!0),{...t,skipEscape:!0})):typeof a=="object"&&(a=v(d(a,!0),{...t,skipEscape:!0})),typeof i=="string"?(i=unescape(i),i=v(d(m(i,t),!0),{...t,skipEscape:!0})):typeof i=="object"&&(i=v(d(i,!0),{...t,skipEscape:!0})),a.toLowerCase()===i.toLowerCase()}function v(a,i){const t={host:a.host,scheme:a.scheme,userinfo:a.userinfo,port:a.port,path:a.path,query:a.query,nid:a.nid,nss:a.nss,uuid:a.uuid,fragment:a.fragment,reference:a.reference,resourceName:a.resourceName,secure:a.secure,error:""},o=Object.assign({},i),h=[],n=c(o.scheme||t.scheme);n&&n.serialize&&n.serialize(t,o),t.path!==void 0&&(o.skipEscape?t.path=unescape(t.path):(t.path=escape(t.path),t.scheme!==void 0&&(t.path=t.path.split("%3A").join(":")))),o.reference!=="suffix"&&t.scheme&&h.push(t.scheme,":");const l=g(t);if(l!==void 0&&(o.reference!=="suffix"&&h.push("//"),h.push(l),t.path&&t.path[0]!=="/"&&h.push("/")),t.path!==void 0){let b=t.path;!o.absolutePath&&(!n||!n.absolutePath)&&(b=r(b)),l===void 0&&b[0]==="/"&&b[1]==="/"&&(b="/%2F"+b.slice(2)),h.push(b)}return t.query!==void 0&&h.push("?",t.query),t.fragment!==void 0&&h.push("#",t.fragment),h.join("")}const y=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function m(a,i){const t=Object.assign({},i),o={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let h=!1;t.reference==="suffix"&&(t.scheme?a=t.scheme+":"+a:a="//"+a);const n=a.match(y);if(n){if(o.scheme=n[1],o.userinfo=n[3],o.host=n[4],o.port=parseInt(n[5],10),o.path=n[6]||"",o.query=n[7],o.fragment=n[8],isNaN(o.port)&&(o.port=n[5]),o.host)if($(o.host)===!1){const k=e(o.host);o.host=k.host.toLowerCase(),h=k.isIPV6}else h=!0;o.scheme===void 0&&o.userinfo===void 0&&o.host===void 0&&o.port===void 0&&o.query===void 0&&!o.path?o.reference="same-document":o.scheme===void 0?o.reference="relative":o.fragment===void 0?o.reference="absolute":o.reference="uri",t.reference&&t.reference!=="suffix"&&t.reference!==o.reference&&(o.error=o.error||"URI is not a "+t.reference+" reference.");const l=c(t.scheme||o.scheme);if(!t.unicodeSupport&&(!l||!l.unicodeSupport)&&o.host&&(t.domainHost||l&&l.domainHost)&&h===!1&&s(o.host))try{o.host=URL.domainToASCII(o.host.toLowerCase())}catch(b){o.error=o.error||"Host's domain name can not be converted to ASCII: "+b}(!l||l&&!l.skipNormalize)&&(a.indexOf("%")!==-1&&(o.scheme!==void 0&&(o.scheme=unescape(o.scheme)),o.host!==void 0&&(o.host=unescape(o.host))),o.path&&(o.path=escape(unescape(o.path))),o.fragment&&(o.fragment=encodeURI(decodeURIComponent(o.fragment)))),l&&l.parse&&l.parse(o,t)}else o.error=o.error||"URI can not be parsed.";return o}const w={SCHEMES:f,normalize:p,resolve:E,resolveComponent:_,equal:P,serialize:v,parse:m};return ke.exports=w,ke.exports.default=w,ke.exports.fastUri=w,ke.exports}var fr;function Pn(){if(fr)return Ae;fr=1,Object.defineProperty(Ae,"__esModule",{value:!0});const e=Sn();return e.code='require("ajv/dist/runtime/uri").default',Ae.default=e,Ae}var hr;function Nn(){return hr||(hr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var r=$t();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return r.KeywordCxt}});var g=J();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return g._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return g.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return g.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return g.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return g.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return g.CodeGen}});const d=At(),$=wt(),s=tn(),f=Dt(),c=J(),p=gt(),E=vt(),_=Y(),P=bn,v=Pn(),y=(M,R)=>new RegExp(M,R);y.code="new RegExp";const m=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),a={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},i={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},t=200;function o(M){var R,T,j,u,S,q,U,L,Q,W,N,O,I,A,z,G,ee,ce,ae,oe,te,Ee,ue,bt,Et;const Oe=M.strict,St=(R=M.code)===null||R===void 0?void 0:R.optimize,Ut=St===!0||St===void 0?1:St||0,zt=(j=(T=M.code)===null||T===void 0?void 0:T.regExp)!==null&&j!==void 0?j:y,cn=(u=M.uriResolver)!==null&&u!==void 0?u:v.default;return{strictSchema:(q=(S=M.strictSchema)!==null&&S!==void 0?S:Oe)!==null&&q!==void 0?q:!0,strictNumbers:(L=(U=M.strictNumbers)!==null&&U!==void 0?U:Oe)!==null&&L!==void 0?L:!0,strictTypes:(W=(Q=M.strictTypes)!==null&&Q!==void 0?Q:Oe)!==null&&W!==void 0?W:"log",strictTuples:(O=(N=M.strictTuples)!==null&&N!==void 0?N:Oe)!==null&&O!==void 0?O:"log",strictRequired:(A=(I=M.strictRequired)!==null&&I!==void 0?I:Oe)!==null&&A!==void 0?A:!1,code:M.code?{...M.code,optimize:Ut,regExp:zt}:{optimize:Ut,regExp:zt},loopRequired:(z=M.loopRequired)!==null&&z!==void 0?z:t,loopEnum:(G=M.loopEnum)!==null&&G!==void 0?G:t,meta:(ee=M.meta)!==null&&ee!==void 0?ee:!0,messages:(ce=M.messages)!==null&&ce!==void 0?ce:!0,inlineRefs:(ae=M.inlineRefs)!==null&&ae!==void 0?ae:!0,schemaId:(oe=M.schemaId)!==null&&oe!==void 0?oe:"$id",addUsedSchema:(te=M.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(Ee=M.validateSchema)!==null&&Ee!==void 0?Ee:!0,validateFormats:(ue=M.validateFormats)!==null&&ue!==void 0?ue:!0,unicodeRegExp:(bt=M.unicodeRegExp)!==null&&bt!==void 0?bt:!0,int32range:(Et=M.int32range)!==null&&Et!==void 0?Et:!0,uriResolver:cn}}class h{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...o(R)};const{es5:T,lines:j}=this.opts.code;this.scope=new c.ValueScope({scope:{},prefixes:w,es5:T,lines:j}),this.logger=K(R.logger);const u=R.validateFormats;R.validateFormats=!1,this.RULES=(0,s.getRules)(),n.call(this,a,R,"NOT SUPPORTED"),n.call(this,i,R,"DEPRECATED","warn"),this._metaOpts=D.call(this),R.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&C.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),b.call(this),R.validateFormats=u}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:T,schemaId:j}=this.opts;let u=P;j==="id"&&(u={...P},u.id=u.$id,delete u.$id),T&&R&&this.addMetaSchema(u,u[j],!1)}defaultMeta(){const{meta:R,schemaId:T}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[T]||R:void 0}validate(R,T){let j;if(typeof R=="string"){if(j=this.getSchema(R),!j)throw new Error(`no schema with key or ref "${R}"`)}else j=this.compile(R);const u=j(T);return"$async"in j||(this.errors=j.errors),u}compile(R,T){const j=this._addSchema(R,T);return j.validate||this._compileSchemaEnv(j)}compileAsync(R,T){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:j}=this.opts;return u.call(this,R,T);async function u(W,N){await S.call(this,W.$schema);const O=this._addSchema(W,N);return O.validate||q.call(this,O)}async function S(W){W&&!this.getSchema(W)&&await u.call(this,{$ref:W},!0)}async function q(W){try{return this._compileSchemaEnv(W)}catch(N){if(!(N instanceof $.default))throw N;return U.call(this,N),await L.call(this,N.missingSchema),q.call(this,W)}}function U({missingSchema:W,missingRef:N}){if(this.refs[W])throw new Error(`AnySchema ${W} is loaded but ${N} cannot be resolved`)}async function L(W){const N=await Q.call(this,W);this.refs[W]||await S.call(this,N.$schema),this.refs[W]||this.addSchema(N,W,T)}async function Q(W){const N=this._loading[W];if(N)return N;try{return await(this._loading[W]=j(W))}finally{delete this._loading[W]}}}addSchema(R,T,j,u=this.opts.validateSchema){if(Array.isArray(R)){for(const q of R)this.addSchema(q,void 0,j,u);return this}let S;if(typeof R=="object"){const{schemaId:q}=this.opts;if(S=R[q],S!==void 0&&typeof S!="string")throw new Error(`schema ${q} must be string`)}return T=(0,p.normalizeId)(T||S),this._checkUnique(T),this.schemas[T]=this._addSchema(R,j,T,u,!0),this}addMetaSchema(R,T,j=this.opts.validateSchema){return this.addSchema(R,T,!0,j),this}validateSchema(R,T){if(typeof R=="boolean")return!0;let j;if(j=R.$schema,j!==void 0&&typeof j!="string")throw new Error("$schema must be a string");if(j=j||this.opts.defaultMeta||this.defaultMeta(),!j)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const u=this.validate(j,R);if(!u&&T){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return u}getSchema(R){let T;for(;typeof(T=l.call(this,R))=="string";)R=T;if(T===void 0){const{schemaId:j}=this.opts,u=new f.SchemaEnv({schema:{},schemaId:j});if(T=f.resolveSchema.call(this,u,R),!T)return;this.refs[R]=T}return T.validate||this._compileSchemaEnv(T)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const T=l.call(this,R);return typeof T=="object"&&this._cache.delete(T.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const T=R;this._cache.delete(T);let j=R[this.opts.schemaId];return j&&(j=(0,p.normalizeId)(j),delete this.schemas[j],delete this.refs[j]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const T of R)this.addKeyword(T);return this}addKeyword(R,T){let j;if(typeof R=="string")j=R,typeof T=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),T.keyword=j);else if(typeof R=="object"&&T===void 0){if(T=R,j=T.keyword,Array.isArray(j)&&!j.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(B.call(this,j,T),!T)return(0,_.eachItem)(j,S=>x.call(this,S)),this;he.call(this,T);const u={...T,type:(0,E.getJSONTypes)(T.type),schemaType:(0,E.getJSONTypes)(T.schemaType)};return(0,_.eachItem)(j,u.type.length===0?S=>x.call(this,S,u):S=>u.type.forEach(q=>x.call(this,S,u,q))),this}getKeyword(R){const T=this.RULES.all[R];return typeof T=="object"?T.definition:!!T}removeKeyword(R){const{RULES:T}=this;delete T.keywords[R],delete T.all[R];for(const j of T.rules){const u=j.rules.findIndex(S=>S.keyword===R);u>=0&&j.rules.splice(u,1)}return this}addFormat(R,T){return typeof T=="string"&&(T=new RegExp(T)),this.formats[R]=T,this}errorsText(R=this.errors,{separator:T=", ",dataVar:j="data"}={}){return!R||R.length===0?"No errors":R.map(u=>`${j}${u.instancePath} ${u.message}`).reduce((u,S)=>u+T+S)}$dataMetaSchema(R,T){const j=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const u of T){const S=u.split("/").slice(1);let q=R;for(const U of S)q=q[U];for(const U in j){const L=j[U];if(typeof L!="object")continue;const{$data:Q}=L.definition,W=q[U];Q&&W&&(q[U]=ve(W))}}return R}_removeAllSchemas(R,T){for(const j in R){const u=R[j];(!T||T.test(j))&&(typeof u=="string"?delete R[j]:u&&!u.meta&&(this._cache.delete(u.schema),delete R[j]))}}_addSchema(R,T,j,u=this.opts.validateSchema,S=this.opts.addUsedSchema){let q;const{schemaId:U}=this.opts;if(typeof R=="object")q=R[U];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let L=this._cache.get(R);if(L!==void 0)return L;j=(0,p.normalizeId)(q||j);const Q=p.getSchemaRefs.call(this,R,j);return L=new f.SchemaEnv({schema:R,schemaId:U,meta:T,baseId:j,localRefs:Q}),this._cache.set(L.schema,L),S&&!j.startsWith("#")&&(j&&this._checkUnique(j),this.refs[j]=L),u&&this.validateSchema(R,!0),L}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):f.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const T=this.opts;this.opts=this._metaOpts;try{f.compileSchema.call(this,R)}finally{this.opts=T}}}h.ValidationError=d.default,h.MissingRefError=$.default,e.default=h;function n(M,R,T,j="error"){for(const u in M){const S=u;S in R&&this.logger[j](`${T}: option ${u}. ${M[S]}`)}}function l(M){return M=(0,p.normalizeId)(M),this.schemas[M]||this.refs[M]}function b(){const M=this.opts.schemas;if(M)if(Array.isArray(M))this.addSchema(M);else for(const R in M)this.addSchema(M[R],R)}function k(){for(const M in this.opts.formats){const R=this.opts.formats[M];R&&this.addFormat(M,R)}}function C(M){if(Array.isArray(M)){this.addVocabulary(M);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in M){const T=M[R];T.keyword||(T.keyword=R),this.addKeyword(T)}}function D(){const M={...this.opts};for(const R of m)delete M[R];return M}const V={log(){},warn(){},error(){}};function K(M){if(M===!1)return V;if(M===void 0)return console;if(M.log&&M.warn&&M.error)return M;throw new Error("logger must implement log, warn and error methods")}const F=/^[a-z_$][a-z0-9_$:-]*$/i;function B(M,R){const{RULES:T}=this;if((0,_.eachItem)(M,j=>{if(T.keywords[j])throw new Error(`Keyword ${j} is already defined`);if(!F.test(j))throw new Error(`Keyword ${j} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function x(M,R,T){var j;const u=R?.post;if(T&&u)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let q=u?S.post:S.rules.find(({type:L})=>L===T);if(q||(q={type:T,rules:[]},S.rules.push(q)),S.keywords[M]=!0,!R)return;const U={keyword:M,definition:{...R,type:(0,E.getJSONTypes)(R.type),schemaType:(0,E.getJSONTypes)(R.schemaType)}};R.before?fe.call(this,q,U,R.before):q.rules.push(U),S.all[M]=U,(j=R.implements)===null||j===void 0||j.forEach(L=>this.addKeyword(L))}function fe(M,R,T){const j=M.rules.findIndex(u=>u.keyword===T);j>=0?M.rules.splice(j,0,R):(M.rules.push(R),this.logger.warn(`rule ${T} is not defined`))}function he(M){let{metaSchema:R}=M;R!==void 0&&(M.$data&&this.opts.$data&&(R=ve(R)),M.validateSchema=this.compile(R,!0))}const Z={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ve(M){return{anyOf:[M,Z]}}})(Pt)),Pt}var De={},Ve={},Ue={},pr;function Rn(){if(pr)return Ue;pr=1,Object.defineProperty(Ue,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ue.default=e,Ue}var _e={},mr;function On(){if(mr)return _e;mr=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.callRef=_e.getValidate=void 0;const e=wt(),r=de(),g=J(),d=ge(),$=Dt(),s=Y(),f={keyword:"$ref",schemaType:"string",code(E){const{gen:_,schema:P,it:v}=E,{baseId:y,schemaEnv:m,validateName:w,opts:a,self:i}=v,{root:t}=m;if((P==="#"||P==="#/")&&y===t.baseId)return h();const o=$.resolveRef.call(i,t,y,P);if(o===void 0)throw new e.default(v.opts.uriResolver,y,P);if(o instanceof $.SchemaEnv)return n(o);return l(o);function h(){if(m===t)return p(E,w,m,m.$async);const b=_.scopeValue("root",{ref:t});return p(E,(0,g._)`${b}.validate`,t,t.$async)}function n(b){const k=c(E,b);p(E,k,b,b.$async)}function l(b){const k=_.scopeValue("schema",a.code.source===!0?{ref:b,code:(0,g.stringify)(b)}:{ref:b}),C=_.name("valid"),D=E.subschema({schema:b,dataTypes:[],schemaPath:g.nil,topSchemaRef:k,errSchemaPath:P},C);E.mergeEvaluated(D),E.ok(C)}}};function c(E,_){const{gen:P}=E;return _.validate?P.scopeValue("validate",{ref:_.validate}):(0,g._)`${P.scopeValue("wrapper",{ref:_})}.validate`}_e.getValidate=c;function p(E,_,P,v){const{gen:y,it:m}=E,{allErrors:w,schemaEnv:a,opts:i}=m,t=i.passContext?d.default.this:g.nil;v?o():h();function o(){if(!a.$async)throw new Error("async schema referenced by sync schema");const b=y.let("valid");y.try(()=>{y.code((0,g._)`await ${(0,r.callValidateCode)(E,_,t)}`),l(_),w||y.assign(b,!0)},k=>{y.if((0,g._)`!(${k} instanceof ${m.ValidationError})`,()=>y.throw(k)),n(k),w||y.assign(b,!1)}),E.ok(b)}function h(){E.result((0,r.callValidateCode)(E,_,t),()=>l(_),()=>n(_))}function n(b){const k=(0,g._)`${b}.errors`;y.assign(d.default.vErrors,(0,g._)`${d.default.vErrors} === null ? ${k} : ${d.default.vErrors}.concat(${k})`),y.assign(d.default.errors,(0,g._)`${d.default.vErrors}.length`)}function l(b){var k;if(!m.opts.unevaluated)return;const C=(k=P?.validate)===null||k===void 0?void 0:k.evaluated;if(m.props!==!0)if(C&&!C.dynamicProps)C.props!==void 0&&(m.props=s.mergeEvaluated.props(y,C.props,m.props));else{const D=y.var("props",(0,g._)`${b}.evaluated.props`);m.props=s.mergeEvaluated.props(y,D,m.props,g.Name)}if(m.items!==!0)if(C&&!C.dynamicItems)C.items!==void 0&&(m.items=s.mergeEvaluated.items(y,C.items,m.items));else{const D=y.var("items",(0,g._)`${b}.evaluated.items`);m.items=s.mergeEvaluated.items(y,D,m.items,g.Name)}}}return _e.callRef=p,_e.default=f,_e}var yr;function jn(){if(yr)return Ve;yr=1,Object.defineProperty(Ve,"__esModule",{value:!0});const e=Rn(),r=On(),g=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,r.default];return Ve.default=g,Ve}var ze={},Le={},vr;function kn(){if(vr)return Le;vr=1,Object.defineProperty(Le,"__esModule",{value:!0});const e=J(),r=e.operators,g={maximum:{okStr:"<=",ok:r.LTE,fail:r.GT},minimum:{okStr:">=",ok:r.GTE,fail:r.LT},exclusiveMaximum:{okStr:"<",ok:r.LT,fail:r.GTE},exclusiveMinimum:{okStr:">",ok:r.GT,fail:r.LTE}},d={message:({keyword:s,schemaCode:f})=>(0,e.str)`must be ${g[s].okStr} ${f}`,params:({keyword:s,schemaCode:f})=>(0,e._)`{comparison: ${g[s].okStr}, limit: ${f}}`},$={keyword:Object.keys(g),type:"number",schemaType:"number",$data:!0,error:d,code(s){const{keyword:f,data:c,schemaCode:p}=s;s.fail$data((0,e._)`${c} ${g[f].fail} ${p} || isNaN(${c})`)}};return Le.default=$,Le}var Fe={},_r;function qn(){if(_r)return Fe;_r=1,Object.defineProperty(Fe,"__esModule",{value:!0});const e=J(),g={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:d})=>(0,e.str)`must be multiple of ${d}`,params:({schemaCode:d})=>(0,e._)`{multipleOf: ${d}}`},code(d){const{gen:$,data:s,schemaCode:f,it:c}=d,p=c.opts.multipleOfPrecision,E=$.let("res"),_=p?(0,e._)`Math.abs(Math.round(${E}) - ${E}) > 1e-${p}`:(0,e._)`${E} !== parseInt(${E})`;d.fail$data((0,e._)`(${f} === 0 || (${E} = ${s}/${f}, ${_}))`)}};return Fe.default=g,Fe}var Ke={},He={},gr;function In(){if(gr)return He;gr=1,Object.defineProperty(He,"__esModule",{value:!0});function e(r){const g=r.length;let d=0,$=0,s;for(;$<g;)d++,s=r.charCodeAt($++),s>=55296&&s<=56319&&$<g&&(s=r.charCodeAt($),(s&64512)===56320&&$++);return d}return He.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',He}var $r;function Tn(){if($r)return Ke;$r=1,Object.defineProperty(Ke,"__esModule",{value:!0});const e=J(),r=Y(),g=In(),$={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:f}){const c=s==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${c} than ${f} characters`},params:({schemaCode:s})=>(0,e._)`{limit: ${s}}`},code(s){const{keyword:f,data:c,schemaCode:p,it:E}=s,_=f==="maxLength"?e.operators.GT:e.operators.LT,P=E.opts.unicode===!1?(0,e._)`${c}.length`:(0,e._)`${(0,r.useFunc)(s.gen,g.default)}(${c})`;s.fail$data((0,e._)`${P} ${_} ${p}`)}};return Ke.default=$,Ke}var Ge={},wr;function Cn(){if(wr)return Ge;wr=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=de(),r=Y(),g=J(),$={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:s})=>(0,g.str)`must match pattern "${s}"`,params:({schemaCode:s})=>(0,g._)`{pattern: ${s}}`},code(s){const{gen:f,data:c,$data:p,schema:E,schemaCode:_,it:P}=s,v=P.opts.unicodeRegExp?"u":"";if(p){const{regExp:y}=P.opts.code,m=y.code==="new RegExp"?(0,g._)`new RegExp`:(0,r.useFunc)(f,y),w=f.let("valid");f.try(()=>f.assign(w,(0,g._)`${m}(${_}, ${v}).test(${c})`),()=>f.assign(w,!1)),s.fail$data((0,g._)`!${w}`)}else{const y=(0,e.usePattern)(s,E);s.fail$data((0,g._)`!${y}.test(${c})`)}}};return Ge.default=$,Ge}var Je={},br;function Mn(){if(br)return Je;br=1,Object.defineProperty(Je,"__esModule",{value:!0});const e=J(),g={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:d,schemaCode:$}){const s=d==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${$} properties`},params:({schemaCode:d})=>(0,e._)`{limit: ${d}}`},code(d){const{keyword:$,data:s,schemaCode:f}=d,c=$==="maxProperties"?e.operators.GT:e.operators.LT;d.fail$data((0,e._)`Object.keys(${s}).length ${c} ${f}`)}};return Je.default=g,Je}var We={},Er;function An(){if(Er)return We;Er=1,Object.defineProperty(We,"__esModule",{value:!0});const e=de(),r=J(),g=Y(),$={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,r.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,r._)`{missingProperty: ${s}}`},code(s){const{gen:f,schema:c,schemaCode:p,data:E,$data:_,it:P}=s,{opts:v}=P;if(!_&&c.length===0)return;const y=c.length>=v.loopRequired;if(P.allErrors?m():w(),v.strictRequired){const t=s.parentSchema.properties,{definedProperties:o}=s.it;for(const h of c)if(t?.[h]===void 0&&!o.has(h)){const n=P.schemaEnv.baseId+P.errSchemaPath,l=`required property "${h}" is not defined at "${n}" (strictRequired)`;(0,g.checkStrictMode)(P,l,P.opts.strictRequired)}}function m(){if(y||_)s.block$data(r.nil,a);else for(const t of c)(0,e.checkReportMissingProp)(s,t)}function w(){const t=f.let("missing");if(y||_){const o=f.let("valid",!0);s.block$data(o,()=>i(t,o)),s.ok(o)}else f.if((0,e.checkMissingProp)(s,c,t)),(0,e.reportMissingProp)(s,t),f.else()}function a(){f.forOf("prop",p,t=>{s.setParams({missingProperty:t}),f.if((0,e.noPropertyInData)(f,E,t,v.ownProperties),()=>s.error())})}function i(t,o){s.setParams({missingProperty:t}),f.forOf(t,p,()=>{f.assign(o,(0,e.propertyInData)(f,E,t,v.ownProperties)),f.if((0,r.not)(o),()=>{s.error(),f.break()})},r.nil)}}};return We.default=$,We}var Be={},Sr;function Dn(){if(Sr)return Be;Sr=1,Object.defineProperty(Be,"__esModule",{value:!0});const e=J(),g={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:d,schemaCode:$}){const s=d==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${s} than ${$} items`},params:({schemaCode:d})=>(0,e._)`{limit: ${d}}`},code(d){const{keyword:$,data:s,schemaCode:f}=d,c=$==="maxItems"?e.operators.GT:e.operators.LT;d.fail$data((0,e._)`${s}.length ${c} ${f}`)}};return Be.default=g,Be}var Ye={},Qe={},Pr;function Vt(){if(Pr)return Qe;Pr=1,Object.defineProperty(Qe,"__esModule",{value:!0});const e=nn();return e.code='require("ajv/dist/runtime/equal").default',Qe.default=e,Qe}var Nr;function Vn(){if(Nr)return Ye;Nr=1,Object.defineProperty(Ye,"__esModule",{value:!0});const e=vt(),r=J(),g=Y(),d=Vt(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:f,j:c}})=>(0,r.str)`must NOT have duplicate items (items ## ${c} and ${f} are identical)`,params:({params:{i:f,j:c}})=>(0,r._)`{i: ${f}, j: ${c}}`},code(f){const{gen:c,data:p,$data:E,schema:_,parentSchema:P,schemaCode:v,it:y}=f;if(!E&&!_)return;const m=c.let("valid"),w=P.items?(0,e.getSchemaTypes)(P.items):[];f.block$data(m,a,(0,r._)`${v} === false`),f.ok(m);function a(){const h=c.let("i",(0,r._)`${p}.length`),n=c.let("j");f.setParams({i:h,j:n}),c.assign(m,!0),c.if((0,r._)`${h} > 1`,()=>(i()?t:o)(h,n))}function i(){return w.length>0&&!w.some(h=>h==="object"||h==="array")}function t(h,n){const l=c.name("item"),b=(0,e.checkDataTypes)(w,l,y.opts.strictNumbers,e.DataType.Wrong),k=c.const("indices",(0,r._)`{}`);c.for((0,r._)`;${h}--;`,()=>{c.let(l,(0,r._)`${p}[${h}]`),c.if(b,(0,r._)`continue`),w.length>1&&c.if((0,r._)`typeof ${l} == "string"`,(0,r._)`${l} += "_"`),c.if((0,r._)`typeof ${k}[${l}] == "number"`,()=>{c.assign(n,(0,r._)`${k}[${l}]`),f.error(),c.assign(m,!1).break()}).code((0,r._)`${k}[${l}] = ${h}`)})}function o(h,n){const l=(0,g.useFunc)(c,d.default),b=c.name("outer");c.label(b).for((0,r._)`;${h}--;`,()=>c.for((0,r._)`${n} = ${h}; ${n}--;`,()=>c.if((0,r._)`${l}(${p}[${h}], ${p}[${n}])`,()=>{f.error(),c.assign(m,!1).break(b)})))}}};return Ye.default=s,Ye}var Xe={},Rr;function Un(){if(Rr)return Xe;Rr=1,Object.defineProperty(Xe,"__esModule",{value:!0});const e=J(),r=Y(),g=Vt(),$={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,e._)`{allowedValue: ${s}}`},code(s){const{gen:f,data:c,$data:p,schemaCode:E,schema:_}=s;p||_&&typeof _=="object"?s.fail$data((0,e._)`!${(0,r.useFunc)(f,g.default)}(${c}, ${E})`):s.fail((0,e._)`${_} !== ${c}`)}};return Xe.default=$,Xe}var Ze={},Or;function zn(){if(Or)return Ze;Or=1,Object.defineProperty(Ze,"__esModule",{value:!0});const e=J(),r=Y(),g=Vt(),$={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,e._)`{allowedValues: ${s}}`},code(s){const{gen:f,data:c,$data:p,schema:E,schemaCode:_,it:P}=s;if(!p&&E.length===0)throw new Error("enum must have non-empty array");const v=E.length>=P.opts.loopEnum;let y;const m=()=>y??(y=(0,r.useFunc)(f,g.default));let w;if(v||p)w=f.let("valid"),s.block$data(w,a);else{if(!Array.isArray(E))throw new Error("ajv implementation error");const t=f.const("vSchema",_);w=(0,e.or)(...E.map((o,h)=>i(t,h)))}s.pass(w);function a(){f.assign(w,!1),f.forOf("v",_,t=>f.if((0,e._)`${m()}(${c}, ${t})`,()=>f.assign(w,!0).break()))}function i(t,o){const h=E[o];return typeof h=="object"&&h!==null?(0,e._)`${m()}(${c}, ${t}[${o}])`:(0,e._)`${c} === ${h}`}}};return Ze.default=$,Ze}var jr;function Ln(){if(jr)return ze;jr=1,Object.defineProperty(ze,"__esModule",{value:!0});const e=kn(),r=qn(),g=Tn(),d=Cn(),$=Mn(),s=An(),f=Dn(),c=Vn(),p=Un(),E=zn(),_=[e.default,r.default,g.default,d.default,$.default,s.default,f.default,c.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},p.default,E.default];return ze.default=_,ze}var xe={},Se={},kr;function an(){if(kr)return Se;kr=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.validateAdditionalItems=void 0;const e=J(),r=Y(),d={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,e.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,e._)`{limit: ${s}}`},code(s){const{parentSchema:f,it:c}=s,{items:p}=f;if(!Array.isArray(p)){(0,r.checkStrictMode)(c,'"additionalItems" is ignored when "items" is not an array of schemas');return}$(s,p)}};function $(s,f){const{gen:c,schema:p,data:E,keyword:_,it:P}=s;P.items=!0;const v=c.const("len",(0,e._)`${E}.length`);if(p===!1)s.setParams({len:f.length}),s.pass((0,e._)`${v} <= ${f.length}`);else if(typeof p=="object"&&!(0,r.alwaysValidSchema)(P,p)){const m=c.var("valid",(0,e._)`${v} <= ${f.length}`);c.if((0,e.not)(m),()=>y(m)),s.ok(m)}function y(m){c.forRange("i",f.length,v,w=>{s.subschema({keyword:_,dataProp:w,dataPropType:r.Type.Num},m),P.allErrors||c.if((0,e.not)(m),()=>c.break())})}}return Se.validateAdditionalItems=$,Se.default=d,Se}var et={},Pe={},qr;function on(){if(qr)return Pe;qr=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.validateTuple=void 0;const e=J(),r=Y(),g=de(),d={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:f,it:c}=s;if(Array.isArray(f))return $(s,"additionalItems",f);c.items=!0,!(0,r.alwaysValidSchema)(c,f)&&s.ok((0,g.validateArray)(s))}};function $(s,f,c=s.schema){const{gen:p,parentSchema:E,data:_,keyword:P,it:v}=s;w(E),v.opts.unevaluated&&c.length&&v.items!==!0&&(v.items=r.mergeEvaluated.items(p,c.length,v.items));const y=p.name("valid"),m=p.const("len",(0,e._)`${_}.length`);c.forEach((a,i)=>{(0,r.alwaysValidSchema)(v,a)||(p.if((0,e._)`${m} > ${i}`,()=>s.subschema({keyword:P,schemaProp:i,dataProp:i},y)),s.ok(y))});function w(a){const{opts:i,errSchemaPath:t}=v,o=c.length,h=o===a.minItems&&(o===a.maxItems||a[f]===!1);if(i.strictTuples&&!h){const n=`"${P}" is ${o}-tuple, but minItems or maxItems/${f} are not specified or different at path "${t}"`;(0,r.checkStrictMode)(v,n,i.strictTuples)}}}return Pe.validateTuple=$,Pe.default=d,Pe}var Ir;function Fn(){if(Ir)return et;Ir=1,Object.defineProperty(et,"__esModule",{value:!0});const e=on(),r={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:g=>(0,e.validateTuple)(g,"items")};return et.default=r,et}var tt={},Tr;function Kn(){if(Tr)return tt;Tr=1,Object.defineProperty(tt,"__esModule",{value:!0});const e=J(),r=Y(),g=de(),d=an(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:f}})=>(0,e.str)`must NOT have more than ${f} items`,params:({params:{len:f}})=>(0,e._)`{limit: ${f}}`},code(f){const{schema:c,parentSchema:p,it:E}=f,{prefixItems:_}=p;E.items=!0,!(0,r.alwaysValidSchema)(E,c)&&(_?(0,d.validateAdditionalItems)(f,_):f.ok((0,g.validateArray)(f)))}};return tt.default=s,tt}var rt={},Cr;function Hn(){if(Cr)return rt;Cr=1,Object.defineProperty(rt,"__esModule",{value:!0});const e=J(),r=Y(),d={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:$,max:s}})=>s===void 0?(0,e.str)`must contain at least ${$} valid item(s)`:(0,e.str)`must contain at least ${$} and no more than ${s} valid item(s)`,params:({params:{min:$,max:s}})=>s===void 0?(0,e._)`{minContains: ${$}}`:(0,e._)`{minContains: ${$}, maxContains: ${s}}`},code($){const{gen:s,schema:f,parentSchema:c,data:p,it:E}=$;let _,P;const{minContains:v,maxContains:y}=c;E.opts.next?(_=v===void 0?1:v,P=y):_=1;const m=s.const("len",(0,e._)`${p}.length`);if($.setParams({min:_,max:P}),P===void 0&&_===0){(0,r.checkStrictMode)(E,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(P!==void 0&&_>P){(0,r.checkStrictMode)(E,'"minContains" > "maxContains" is always invalid'),$.fail();return}if((0,r.alwaysValidSchema)(E,f)){let o=(0,e._)`${m} >= ${_}`;P!==void 0&&(o=(0,e._)`${o} && ${m} <= ${P}`),$.pass(o);return}E.items=!0;const w=s.name("valid");P===void 0&&_===1?i(w,()=>s.if(w,()=>s.break())):_===0?(s.let(w,!0),P!==void 0&&s.if((0,e._)`${p}.length > 0`,a)):(s.let(w,!1),a()),$.result(w,()=>$.reset());function a(){const o=s.name("_valid"),h=s.let("count",0);i(o,()=>s.if(o,()=>t(h)))}function i(o,h){s.forRange("i",0,m,n=>{$.subschema({keyword:"contains",dataProp:n,dataPropType:r.Type.Num,compositeRule:!0},o),h()})}function t(o){s.code((0,e._)`${o}++`),P===void 0?s.if((0,e._)`${o} >= ${_}`,()=>s.assign(w,!0).break()):(s.if((0,e._)`${o} > ${P}`,()=>s.assign(w,!1).break()),_===1?s.assign(w,!0):s.if((0,e._)`${o} >= ${_}`,()=>s.assign(w,!0)))}}};return rt.default=d,rt}var Ct={},Mr;function Gn(){return Mr||(Mr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const r=J(),g=Y(),d=de();e.error={message:({params:{property:p,depsCount:E,deps:_}})=>{const P=E===1?"property":"properties";return(0,r.str)`must have ${P} ${_} when property ${p} is present`},params:({params:{property:p,depsCount:E,deps:_,missingProperty:P}})=>(0,r._)`{property: ${p},
    missingProperty: ${P},
    depsCount: ${E},
    deps: ${_}}`};const $={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(p){const[E,_]=s(p);f(p,E),c(p,_)}};function s({schema:p}){const E={},_={};for(const P in p){if(P==="__proto__")continue;const v=Array.isArray(p[P])?E:_;v[P]=p[P]}return[E,_]}function f(p,E=p.schema){const{gen:_,data:P,it:v}=p;if(Object.keys(E).length===0)return;const y=_.let("missing");for(const m in E){const w=E[m];if(w.length===0)continue;const a=(0,d.propertyInData)(_,P,m,v.opts.ownProperties);p.setParams({property:m,depsCount:w.length,deps:w.join(", ")}),v.allErrors?_.if(a,()=>{for(const i of w)(0,d.checkReportMissingProp)(p,i)}):(_.if((0,r._)`${a} && (${(0,d.checkMissingProp)(p,w,y)})`),(0,d.reportMissingProp)(p,y),_.else())}}e.validatePropertyDeps=f;function c(p,E=p.schema){const{gen:_,data:P,keyword:v,it:y}=p,m=_.name("valid");for(const w in E)(0,g.alwaysValidSchema)(y,E[w])||(_.if((0,d.propertyInData)(_,P,w,y.opts.ownProperties),()=>{const a=p.subschema({keyword:v,schemaProp:w},m);p.mergeValidEvaluated(a,m)},()=>_.var(m,!0)),p.ok(m))}e.validateSchemaDeps=c,e.default=$})(Ct)),Ct}var nt={},Ar;function Jn(){if(Ar)return nt;Ar=1,Object.defineProperty(nt,"__esModule",{value:!0});const e=J(),r=Y(),d={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:$})=>(0,e._)`{propertyName: ${$.propertyName}}`},code($){const{gen:s,schema:f,data:c,it:p}=$;if((0,r.alwaysValidSchema)(p,f))return;const E=s.name("valid");s.forIn("key",c,_=>{$.setParams({propertyName:_}),$.subschema({keyword:"propertyNames",data:_,dataTypes:["string"],propertyName:_,compositeRule:!0},E),s.if((0,e.not)(E),()=>{$.error(!0),p.allErrors||s.break()})}),$.ok(E)}};return nt.default=d,nt}var st={},Dr;function un(){if(Dr)return st;Dr=1,Object.defineProperty(st,"__esModule",{value:!0});const e=de(),r=J(),g=ge(),d=Y(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:f})=>(0,r._)`{additionalProperty: ${f.additionalProperty}}`},code(f){const{gen:c,schema:p,parentSchema:E,data:_,errsCount:P,it:v}=f;if(!P)throw new Error("ajv implementation error");const{allErrors:y,opts:m}=v;if(v.props=!0,m.removeAdditional!=="all"&&(0,d.alwaysValidSchema)(v,p))return;const w=(0,e.allSchemaProperties)(E.properties),a=(0,e.allSchemaProperties)(E.patternProperties);i(),f.ok((0,r._)`${P} === ${g.default.errors}`);function i(){c.forIn("key",_,l=>{!w.length&&!a.length?h(l):c.if(t(l),()=>h(l))})}function t(l){let b;if(w.length>8){const k=(0,d.schemaRefOrVal)(v,E.properties,"properties");b=(0,e.isOwnProperty)(c,k,l)}else w.length?b=(0,r.or)(...w.map(k=>(0,r._)`${l} === ${k}`)):b=r.nil;return a.length&&(b=(0,r.or)(b,...a.map(k=>(0,r._)`${(0,e.usePattern)(f,k)}.test(${l})`))),(0,r.not)(b)}function o(l){c.code((0,r._)`delete ${_}[${l}]`)}function h(l){if(m.removeAdditional==="all"||m.removeAdditional&&p===!1){o(l);return}if(p===!1){f.setParams({additionalProperty:l}),f.error(),y||c.break();return}if(typeof p=="object"&&!(0,d.alwaysValidSchema)(v,p)){const b=c.name("valid");m.removeAdditional==="failing"?(n(l,b,!1),c.if((0,r.not)(b),()=>{f.reset(),o(l)})):(n(l,b),y||c.if((0,r.not)(b),()=>c.break()))}}function n(l,b,k){const C={keyword:"additionalProperties",dataProp:l,dataPropType:d.Type.Str};k===!1&&Object.assign(C,{compositeRule:!0,createErrors:!1,allErrors:!1}),f.subschema(C,b)}}};return st.default=s,st}var at={},Vr;function Wn(){if(Vr)return at;Vr=1,Object.defineProperty(at,"__esModule",{value:!0});const e=$t(),r=de(),g=Y(),d=un(),$={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:f,schema:c,parentSchema:p,data:E,it:_}=s;_.opts.removeAdditional==="all"&&p.additionalProperties===void 0&&d.default.code(new e.KeywordCxt(_,d.default,"additionalProperties"));const P=(0,r.allSchemaProperties)(c);for(const a of P)_.definedProperties.add(a);_.opts.unevaluated&&P.length&&_.props!==!0&&(_.props=g.mergeEvaluated.props(f,(0,g.toHash)(P),_.props));const v=P.filter(a=>!(0,g.alwaysValidSchema)(_,c[a]));if(v.length===0)return;const y=f.name("valid");for(const a of v)m(a)?w(a):(f.if((0,r.propertyInData)(f,E,a,_.opts.ownProperties)),w(a),_.allErrors||f.else().var(y,!0),f.endIf()),s.it.definedProperties.add(a),s.ok(y);function m(a){return _.opts.useDefaults&&!_.compositeRule&&c[a].default!==void 0}function w(a){s.subschema({keyword:"properties",schemaProp:a,dataProp:a},y)}}};return at.default=$,at}var ot={},Ur;function Bn(){if(Ur)return ot;Ur=1,Object.defineProperty(ot,"__esModule",{value:!0});const e=de(),r=J(),g=Y(),d=Y(),$={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:f,schema:c,data:p,parentSchema:E,it:_}=s,{opts:P}=_,v=(0,e.allSchemaProperties)(c),y=v.filter(h=>(0,g.alwaysValidSchema)(_,c[h]));if(v.length===0||y.length===v.length&&(!_.opts.unevaluated||_.props===!0))return;const m=P.strictSchema&&!P.allowMatchingProperties&&E.properties,w=f.name("valid");_.props!==!0&&!(_.props instanceof r.Name)&&(_.props=(0,d.evaluatedPropsToName)(f,_.props));const{props:a}=_;i();function i(){for(const h of v)m&&t(h),_.allErrors?o(h):(f.var(w,!0),o(h),f.if(w))}function t(h){for(const n in m)new RegExp(h).test(n)&&(0,g.checkStrictMode)(_,`property ${n} matches pattern ${h} (use allowMatchingProperties)`)}function o(h){f.forIn("key",p,n=>{f.if((0,r._)`${(0,e.usePattern)(s,h)}.test(${n})`,()=>{const l=y.includes(h);l||s.subschema({keyword:"patternProperties",schemaProp:h,dataProp:n,dataPropType:d.Type.Str},w),_.opts.unevaluated&&a!==!0?f.assign((0,r._)`${a}[${n}]`,!0):!l&&!_.allErrors&&f.if((0,r.not)(w),()=>f.break())})})}}};return ot.default=$,ot}var it={},zr;function Yn(){if(zr)return it;zr=1,Object.defineProperty(it,"__esModule",{value:!0});const e=Y(),r={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(g){const{gen:d,schema:$,it:s}=g;if((0,e.alwaysValidSchema)(s,$)){g.fail();return}const f=d.name("valid");g.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},f),g.failResult(f,()=>g.reset(),()=>g.error())},error:{message:"must NOT be valid"}};return it.default=r,it}var ut={},Lr;function Qn(){if(Lr)return ut;Lr=1,Object.defineProperty(ut,"__esModule",{value:!0});const r={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:de().validateUnion,error:{message:"must match a schema in anyOf"}};return ut.default=r,ut}var ct={},Fr;function Xn(){if(Fr)return ct;Fr=1,Object.defineProperty(ct,"__esModule",{value:!0});const e=J(),r=Y(),d={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:$})=>(0,e._)`{passingSchemas: ${$.passing}}`},code($){const{gen:s,schema:f,parentSchema:c,it:p}=$;if(!Array.isArray(f))throw new Error("ajv implementation error");if(p.opts.discriminator&&c.discriminator)return;const E=f,_=s.let("valid",!1),P=s.let("passing",null),v=s.name("_valid");$.setParams({passing:P}),s.block(y),$.result(_,()=>$.reset(),()=>$.error(!0));function y(){E.forEach((m,w)=>{let a;(0,r.alwaysValidSchema)(p,m)?s.var(v,!0):a=$.subschema({keyword:"oneOf",schemaProp:w,compositeRule:!0},v),w>0&&s.if((0,e._)`${v} && ${_}`).assign(_,!1).assign(P,(0,e._)`[${P}, ${w}]`).else(),s.if(v,()=>{s.assign(_,!0),s.assign(P,w),a&&$.mergeEvaluated(a,e.Name)})})}}};return ct.default=d,ct}var lt={},Kr;function Zn(){if(Kr)return lt;Kr=1,Object.defineProperty(lt,"__esModule",{value:!0});const e=Y(),r={keyword:"allOf",schemaType:"array",code(g){const{gen:d,schema:$,it:s}=g;if(!Array.isArray($))throw new Error("ajv implementation error");const f=d.name("valid");$.forEach((c,p)=>{if((0,e.alwaysValidSchema)(s,c))return;const E=g.subschema({keyword:"allOf",schemaProp:p},f);g.ok(f),g.mergeEvaluated(E)})}};return lt.default=r,lt}var dt={},Hr;function xn(){if(Hr)return dt;Hr=1,Object.defineProperty(dt,"__esModule",{value:!0});const e=J(),r=Y(),d={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,e.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,e._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:f,parentSchema:c,it:p}=s;c.then===void 0&&c.else===void 0&&(0,r.checkStrictMode)(p,'"if" without "then" and "else" is ignored');const E=$(p,"then"),_=$(p,"else");if(!E&&!_)return;const P=f.let("valid",!0),v=f.name("_valid");if(y(),s.reset(),E&&_){const w=f.let("ifClause");s.setParams({ifClause:w}),f.if(v,m("then",w),m("else",w))}else E?f.if(v,m("then")):f.if((0,e.not)(v),m("else"));s.pass(P,()=>s.error(!0));function y(){const w=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},v);s.mergeEvaluated(w)}function m(w,a){return()=>{const i=s.subschema({keyword:w},v);f.assign(P,v),s.mergeValidEvaluated(i,P),a?f.assign(a,(0,e._)`${w}`):s.setParams({ifClause:w})}}}};function $(s,f){const c=s.schema[f];return c!==void 0&&!(0,r.alwaysValidSchema)(s,c)}return dt.default=d,dt}var ft={},Gr;function es(){if(Gr)return ft;Gr=1,Object.defineProperty(ft,"__esModule",{value:!0});const e=Y(),r={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:g,parentSchema:d,it:$}){d.if===void 0&&(0,e.checkStrictMode)($,`"${g}" without "if" is ignored`)}};return ft.default=r,ft}var Jr;function ts(){if(Jr)return xe;Jr=1,Object.defineProperty(xe,"__esModule",{value:!0});const e=an(),r=Fn(),g=on(),d=Kn(),$=Hn(),s=Gn(),f=Jn(),c=un(),p=Wn(),E=Bn(),_=Yn(),P=Qn(),v=Xn(),y=Zn(),m=xn(),w=es();function a(i=!1){const t=[_.default,P.default,v.default,y.default,m.default,w.default,f.default,c.default,s.default,p.default,E.default];return i?t.push(r.default,d.default):t.push(e.default,g.default),t.push($.default),t}return xe.default=a,xe}var ht={},pt={},Wr;function rs(){if(Wr)return pt;Wr=1,Object.defineProperty(pt,"__esModule",{value:!0});const e=J(),g={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:d})=>(0,e.str)`must match format "${d}"`,params:({schemaCode:d})=>(0,e._)`{format: ${d}}`},code(d,$){const{gen:s,data:f,$data:c,schema:p,schemaCode:E,it:_}=d,{opts:P,errSchemaPath:v,schemaEnv:y,self:m}=_;if(!P.validateFormats)return;c?w():a();function w(){const i=s.scopeValue("formats",{ref:m.formats,code:P.code.formats}),t=s.const("fDef",(0,e._)`${i}[${E}]`),o=s.let("fType"),h=s.let("format");s.if((0,e._)`typeof ${t} == "object" && !(${t} instanceof RegExp)`,()=>s.assign(o,(0,e._)`${t}.type || "string"`).assign(h,(0,e._)`${t}.validate`),()=>s.assign(o,(0,e._)`"string"`).assign(h,t)),d.fail$data((0,e.or)(n(),l()));function n(){return P.strictSchema===!1?e.nil:(0,e._)`${E} && !${h}`}function l(){const b=y.$async?(0,e._)`(${t}.async ? await ${h}(${f}) : ${h}(${f}))`:(0,e._)`${h}(${f})`,k=(0,e._)`(typeof ${h} == "function" ? ${b} : ${h}.test(${f}))`;return(0,e._)`${h} && ${h} !== true && ${o} === ${$} && !${k}`}}function a(){const i=m.formats[p];if(!i){n();return}if(i===!0)return;const[t,o,h]=l(i);t===$&&d.pass(b());function n(){if(P.strictSchema===!1){m.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${p}" ignored in schema at path "${v}"`}}function l(k){const C=k instanceof RegExp?(0,e.regexpCode)(k):P.code.formats?(0,e._)`${P.code.formats}${(0,e.getProperty)(p)}`:void 0,D=s.scopeValue("formats",{key:p,ref:k,code:C});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,e._)`${D}.validate`]:["string",k,D]}function b(){if(typeof i=="object"&&!(i instanceof RegExp)&&i.async){if(!y.$async)throw new Error("async format in sync schema");return(0,e._)`await ${h}(${f})`}return typeof o=="function"?(0,e._)`${h}(${f})`:(0,e._)`${h}.test(${f})`}}}};return pt.default=g,pt}var Br;function ns(){if(Br)return ht;Br=1,Object.defineProperty(ht,"__esModule",{value:!0});const r=[rs().default];return ht.default=r,ht}var be={},Yr;function ss(){return Yr||(Yr=1,Object.defineProperty(be,"__esModule",{value:!0}),be.contentVocabulary=be.metadataVocabulary=void 0,be.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],be.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),be}var Qr;function as(){if(Qr)return De;Qr=1,Object.defineProperty(De,"__esModule",{value:!0});const e=jn(),r=Ln(),g=ts(),d=ns(),$=ss(),s=[e.default,r.default,(0,g.default)(),d.default,$.metadataVocabulary,$.contentVocabulary];return De.default=s,De}var mt={},qe={},Xr;function os(){if(Xr)return qe;Xr=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.DiscrError=void 0;var e;return(function(r){r.Tag="tag",r.Mapping="mapping"})(e||(qe.DiscrError=e={})),qe}var Zr;function is(){if(Zr)return mt;Zr=1,Object.defineProperty(mt,"__esModule",{value:!0});const e=J(),r=os(),g=Dt(),d=wt(),$=Y(),f={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:c,tagName:p}})=>c===r.DiscrError.Tag?`tag "${p}" must be string`:`value of tag "${p}" must be in oneOf`,params:({params:{discrError:c,tag:p,tagName:E}})=>(0,e._)`{error: ${c}, tag: ${E}, tagValue: ${p}}`},code(c){const{gen:p,data:E,schema:_,parentSchema:P,it:v}=c,{oneOf:y}=P;if(!v.opts.discriminator)throw new Error("discriminator: requires discriminator option");const m=_.propertyName;if(typeof m!="string")throw new Error("discriminator: requires propertyName");if(_.mapping)throw new Error("discriminator: mapping is not supported");if(!y)throw new Error("discriminator: requires oneOf keyword");const w=p.let("valid",!1),a=p.const("tag",(0,e._)`${E}${(0,e.getProperty)(m)}`);p.if((0,e._)`typeof ${a} == "string"`,()=>i(),()=>c.error(!1,{discrError:r.DiscrError.Tag,tag:a,tagName:m})),c.ok(w);function i(){const h=o();p.if(!1);for(const n in h)p.elseIf((0,e._)`${a} === ${n}`),p.assign(w,t(h[n]));p.else(),c.error(!1,{discrError:r.DiscrError.Mapping,tag:a,tagName:m}),p.endIf()}function t(h){const n=p.name("valid"),l=c.subschema({keyword:"oneOf",schemaProp:h},n);return c.mergeEvaluated(l,e.Name),n}function o(){var h;const n={},l=k(P);let b=!0;for(let V=0;V<y.length;V++){let K=y[V];if(K?.$ref&&!(0,$.schemaHasRulesButRef)(K,v.self.RULES)){const B=K.$ref;if(K=g.resolveRef.call(v.self,v.schemaEnv.root,v.baseId,B),K instanceof g.SchemaEnv&&(K=K.schema),K===void 0)throw new d.default(v.opts.uriResolver,v.baseId,B)}const F=(h=K?.properties)===null||h===void 0?void 0:h[m];if(typeof F!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${m}"`);b=b&&(l||k(K)),C(F,V)}if(!b)throw new Error(`discriminator: "${m}" must be required`);return n;function k({required:V}){return Array.isArray(V)&&V.includes(m)}function C(V,K){if(V.const)D(V.const,K);else if(V.enum)for(const F of V.enum)D(F,K);else throw new Error(`discriminator: "properties/${m}" must have "const" or "enum"`)}function D(V,K){if(typeof V!="string"||V in n)throw new Error(`discriminator: "${m}" values must be unique strings`);n[V]=K}}}};return mt.default=f,mt}const us="http://json-schema.org/draft-07/schema#",cs="http://json-schema.org/draft-07/schema#",ls="Core schema meta-schema",ds={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},fs=["object","boolean"],hs={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ps={$schema:us,$id:cs,title:ls,definitions:ds,type:fs,properties:hs,default:!0};var xr;function ms(){return xr||(xr=1,(function(e,r){Object.defineProperty(r,"__esModule",{value:!0}),r.MissingRefError=r.ValidationError=r.CodeGen=r.Name=r.nil=r.stringify=r.str=r._=r.KeywordCxt=r.Ajv=void 0;const g=Nn(),d=as(),$=is(),s=ps,f=["/properties"],c="http://json-schema.org/draft-07/schema";class p extends g.default{_addVocabularies(){super._addVocabularies(),d.default.forEach(m=>this.addVocabulary(m)),this.opts.discriminator&&this.addKeyword($.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const m=this.opts.$data?this.$dataMetaSchema(s,f):s;this.addMetaSchema(m,c,!1),this.refs["http://json-schema.org/schema"]=c}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(c)?c:void 0)}}r.Ajv=p,e.exports=r=p,e.exports.Ajv=p,Object.defineProperty(r,"__esModule",{value:!0}),r.default=p;var E=$t();Object.defineProperty(r,"KeywordCxt",{enumerable:!0,get:function(){return E.KeywordCxt}});var _=J();Object.defineProperty(r,"_",{enumerable:!0,get:function(){return _._}}),Object.defineProperty(r,"str",{enumerable:!0,get:function(){return _.str}}),Object.defineProperty(r,"stringify",{enumerable:!0,get:function(){return _.stringify}}),Object.defineProperty(r,"nil",{enumerable:!0,get:function(){return _.nil}}),Object.defineProperty(r,"Name",{enumerable:!0,get:function(){return _.Name}}),Object.defineProperty(r,"CodeGen",{enumerable:!0,get:function(){return _.CodeGen}});var P=At();Object.defineProperty(r,"ValidationError",{enumerable:!0,get:function(){return P.default}});var v=wt();Object.defineProperty(r,"MissingRefError",{enumerable:!0,get:function(){return v.default}})})(Ie,Ie.exports)),Ie.exports}var ys=ms();const vs=ln(ys),_s="https://json-schema.org/draft/2020-12/schema",gs="PlanMetadata",$s="object",ws=["case","documents"],bs={case:{type:"object",required:["plan_name","case_number","dopt"],properties:{plan_name:{type:"string"},case_number:{type:["integer","string"]},dopt:{type:"string"},dotr:{type:"string"},bpd:{type:"string"},ein:{type:"string"},pn:{type:"string"}},additionalProperties:!0},dependent_fields:{type:"object",additionalProperties:{type:["string","number","boolean","null"]}},documents:{type:"array",items:{type:"object",required:["doc_id","name"],properties:{source_file:{type:"string"},doc_id:{type:"string"},name:{type:"string"},type:{type:"string"},effective_date:{type:"string"},adoption_date:{type:"string"},applicable_period:{type:"string"},phase_in:{type:"string"},image_viewer:{type:"string"},notes:{type:"string"}},additionalProperties:!0}},meta:{type:"object",additionalProperties:!0}},Es=!1,Ss={$schema:_s,title:gs,type:$s,required:ws,properties:bs,additionalProperties:Es},Ps="0.7.0",Ns=new vs({allErrors:!0,strict:!1}),en=Ns.compile(Ss),se={appVersion:Ps,planMetadata:null,lastManifest:null,lastError:null},Mt=[{path:"#/metadata",title:"Metadata",render:ks},{path:"#/audit",title:"Audit",render:qs}];function Rs(e){location.hash!==e&&(location.hash=e)}function Os(){const e=location.hash||"#/metadata";return Mt.find(r=>r.path===e)??Mt[0]}function js(){const e=document.querySelector("#app"),r=Mt.map(g=>`<button data-route="${g.path}" style="margin-right:8px;">${g.title}</button>`).join("");e.innerHTML=`
    <div style="font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; padding: 16px;">
      <div style="display:flex; justify-content:space-between; align-items:center;">
        <div>
          ${r}
        </div>
        <div style="opacity:0.7;">v${se.appVersion}</div>
      </div>
      <hr style="margin:12px 0;" />
      <div id="page"></div>
    </div>
  `,e.querySelectorAll("button[data-route]").forEach(g=>{g.addEventListener("click",()=>Rs(g.dataset.route))})}function Re(){js();const e=document.querySelector("#page");Os().render(e)}function ks(e){const r=se.planMetadata??{case:{plan_name:"",case_number:"",dopt:""},documents:[],dependent_fields:{}};e.innerHTML=`
    <h2>Plan Metadata</h2>

    ${se.lastError?`<pre style="background:#fee; color:#900; padding:12px; border-radius:8px; white-space:pre-wrap;">${Ne(se.lastError)}</pre>`:""}

    <div style="display:grid; grid-template-columns: 160px 1fr; gap:8px; max-width: 720px;">
      <label>Plan name</label>
      <input id="plan_name" value="${Ne(r.case.plan_name??"")}" />

      <label>Case number</label>
      <input id="case_number" value="${Ne(String(r.case.case_number??""))}" />

      <label>DOPT</label>
      <input id="dopt" placeholder="MM/DD/YYYY" value="${Ne(r.case.dopt??"")}" />
    </div>

    <div style="margin-top:12px;">
      <button id="save">Save metadata</button>
      <button id="export" style="margin-left:8px;">Download metadata.json</button>
      <label style="margin-left:12px;">
        <input id="import" type="file" accept="application/json" style="display:none;" />
        <button id="importBtn">Upload metadata.json</button>
      </label>
    </div>

    <pre style="margin-top:12px; background:#111; color:#eee; padding:12px; border-radius:8px; overflow:auto;">
${Ne(JSON.stringify(r,null,2))}
    </pre>
  `,e.querySelector("#save").addEventListener("click",()=>{const g=e.querySelector("#plan_name").value.trim(),d=e.querySelector("#case_number").value.trim(),$=e.querySelector("#dopt").value.trim();se.planMetadata={...r,case:{...r.case,plan_name:g,case_number:d,dopt:$}},se.lastManifest={app_version:se.appVersion,module:"metadata",generated_at_utc:new Date().toISOString()},Re()}),e.querySelector("#export").addEventListener("click",()=>{const g=new Blob([JSON.stringify(se.planMetadata??r,null,2)],{type:"application/json"});Is(g,"plan-metadata.json")}),e.querySelector("#importBtn").addEventListener("click",()=>{e.querySelector("#import").click()}),e.querySelector("#import").addEventListener("change",async g=>{const d=g.target.files?.[0];if(!d)return;const $=await d.text();let s;try{s=JSON.parse($)}catch(c){se.lastError=`Invalid JSON: ${c.message}`,Re();return}if(!en(s)){se.lastError=`Metadata schema validation failed:
`+en.errors.map(c=>`- ${c.instancePath||"/"} ${c.message}`).join(`
`),Re();return}se.lastError=null,se.planMetadata=s,se.lastManifest={app_version:se.appVersion,module:"metadata",generated_at_utc:new Date().toISOString(),input_file:d.name},Re()})}function qs(e){e.innerHTML=`
    <h2>Audit / Manifest</h2>
    <p>Last action manifest:</p>
    <pre style="background:#111; color:#eee; padding:12px; border-radius:8px; overflow:auto;">
${Ne(JSON.stringify(se.lastManifest??{note:"No actions yet."},null,2))}
    </pre>
  `}function Is(e,r){const g=document.createElement("a"),d=URL.createObjectURL(e);g.href=d,g.download=r,document.body.appendChild(g),g.click(),g.remove(),URL.revokeObjectURL(d)}function Ne(e){return String(e).replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#039;")}window.addEventListener("hashchange",Re);location.hash||(location.hash="#/metadata");Re();

</script>
    <style>
:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex;place-items:center;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}#app{max-width:1280px;margin:0 auto;padding:2rem;text-align:center}.logo{height:6em;padding:1.5em;will-change:filter;transition:filter .3s}.logo:hover{filter:drop-shadow(0 0 2em #646cffaa)}.logo.vanilla:hover{filter:drop-shadow(0 0 2em #f7df1eaa)}.card{padding:2em}.read-the-docs{color:#888}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media(prefers-color-scheme:light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}

</style>
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>
